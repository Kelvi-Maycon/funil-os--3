{"version":3,"file":"Documents-BYF-UidH.js","names":["__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","extracted: { id: string; text: string; level: number }[]","ScrollArea","Fragment"],"sources":["../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/arrow-down-from-line.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/arrow-left-from-line.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/arrow-right-from-line.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/arrow-up-from-line.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/bold.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/grip-vertical.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/heading-1.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/heading-2.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/italic.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/quote.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/separator-horizontal.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/table.js","../../src/components/editor/RichTextEditor.tsx","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/@radix-ui+react-scroll-area@1.2.10_@types+react-dom@19.2.3_@types+react@19.2.14__@types_155614c2fe5222bb9b221068b09efefc/node_modules/@radix-ui/react-scroll-area/dist/index.mjs","../../src/components/ui/scroll-area.tsx","../../src/pages/Documents.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M19 3H5\", key: \"1236rx\" }],\n  [\"path\", { d: \"M12 21V7\", key: \"gj6g52\" }],\n  [\"path\", { d: \"m6 15 6 6 6-6\", key: \"h15q88\" }]\n];\nconst ArrowDownFromLine = createLucideIcon(\"arrow-down-from-line\", __iconNode);\n\nexport { __iconNode, ArrowDownFromLine as default };\n//# sourceMappingURL=arrow-down-from-line.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m9 6-6 6 6 6\", key: \"7v63n9\" }],\n  [\"path\", { d: \"M3 12h14\", key: \"13k4hi\" }],\n  [\"path\", { d: \"M21 19V5\", key: \"b4bplr\" }]\n];\nconst ArrowLeftFromLine = createLucideIcon(\"arrow-left-from-line\", __iconNode);\n\nexport { __iconNode, ArrowLeftFromLine as default };\n//# sourceMappingURL=arrow-left-from-line.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 5v14\", key: \"1nt18q\" }],\n  [\"path\", { d: \"M21 12H7\", key: \"13ipq5\" }],\n  [\"path\", { d: \"m15 18 6-6-6-6\", key: \"6tx3qv\" }]\n];\nconst ArrowRightFromLine = createLucideIcon(\"arrow-right-from-line\", __iconNode);\n\nexport { __iconNode, ArrowRightFromLine as default };\n//# sourceMappingURL=arrow-right-from-line.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m18 9-6-6-6 6\", key: \"kcunyi\" }],\n  [\"path\", { d: \"M12 3v14\", key: \"7cf3v8\" }],\n  [\"path\", { d: \"M5 21h14\", key: \"11awu3\" }]\n];\nconst ArrowUpFromLine = createLucideIcon(\"arrow-up-from-line\", __iconNode);\n\nexport { __iconNode, ArrowUpFromLine as default };\n//# sourceMappingURL=arrow-up-from-line.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8\", key: \"mg9rjx\" }\n  ]\n];\nconst Bold = createLucideIcon(\"bold\", __iconNode);\n\nexport { __iconNode, Bold as default };\n//# sourceMappingURL=bold.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"9\", cy: \"12\", r: \"1\", key: \"1vctgf\" }],\n  [\"circle\", { cx: \"9\", cy: \"5\", r: \"1\", key: \"hp0tcf\" }],\n  [\"circle\", { cx: \"9\", cy: \"19\", r: \"1\", key: \"fkjjf6\" }],\n  [\"circle\", { cx: \"15\", cy: \"12\", r: \"1\", key: \"1tmaij\" }],\n  [\"circle\", { cx: \"15\", cy: \"5\", r: \"1\", key: \"19l28e\" }],\n  [\"circle\", { cx: \"15\", cy: \"19\", r: \"1\", key: \"f4zoj3\" }]\n];\nconst GripVertical = createLucideIcon(\"grip-vertical\", __iconNode);\n\nexport { __iconNode, GripVertical as default };\n//# sourceMappingURL=grip-vertical.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M4 12h8\", key: \"17cfdx\" }],\n  [\"path\", { d: \"M4 18V6\", key: \"1rz3zl\" }],\n  [\"path\", { d: \"M12 18V6\", key: \"zqpxq5\" }],\n  [\"path\", { d: \"m17 12 3-2v8\", key: \"1hhhft\" }]\n];\nconst Heading1 = createLucideIcon(\"heading-1\", __iconNode);\n\nexport { __iconNode, Heading1 as default };\n//# sourceMappingURL=heading-1.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M4 12h8\", key: \"17cfdx\" }],\n  [\"path\", { d: \"M4 18V6\", key: \"1rz3zl\" }],\n  [\"path\", { d: \"M12 18V6\", key: \"zqpxq5\" }],\n  [\"path\", { d: \"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1\", key: \"9jr5yi\" }]\n];\nconst Heading2 = createLucideIcon(\"heading-2\", __iconNode);\n\nexport { __iconNode, Heading2 as default };\n//# sourceMappingURL=heading-2.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"19\", x2: \"10\", y1: \"4\", y2: \"4\", key: \"15jd3p\" }],\n  [\"line\", { x1: \"14\", x2: \"5\", y1: \"20\", y2: \"20\", key: \"bu0au3\" }],\n  [\"line\", { x1: \"15\", x2: \"9\", y1: \"4\", y2: \"20\", key: \"uljnxc\" }]\n];\nconst Italic = createLucideIcon(\"italic\", __iconNode);\n\nexport { __iconNode, Italic as default };\n//# sourceMappingURL=italic.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\",\n      key: \"rib7q0\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\",\n      key: \"1ymkrd\"\n    }\n  ]\n];\nconst Quote = createLucideIcon(\"quote\", __iconNode);\n\nexport { __iconNode, Quote as default };\n//# sourceMappingURL=quote.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m16 16-4 4-4-4\", key: \"3dv8je\" }],\n  [\"path\", { d: \"M3 12h18\", key: \"1i2n21\" }],\n  [\"path\", { d: \"m8 8 4-4 4 4\", key: \"2bscm2\" }]\n];\nconst SeparatorHorizontal = createLucideIcon(\"separator-horizontal\", __iconNode);\n\nexport { __iconNode, SeparatorHorizontal as default };\n//# sourceMappingURL=separator-horizontal.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 3v18\", key: \"108xh3\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M3 15h18\", key: \"5xshup\" }]\n];\nconst Table = createLucideIcon(\"table\", __iconNode);\n\nexport { __iconNode, Table as default };\n//# sourceMappingURL=table.js.map\n","import { useRef, useEffect, useState, useCallback } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { Document, Funnel } from '@/types'\nimport { Button } from '@/components/ui/button'\nimport {\n  Bold,\n  Italic,\n  List,\n  Heading1,\n  Heading2,\n  Quote,\n  SeparatorHorizontal,\n  Image as ImageIcon,\n  Network,\n  X,\n  GripVertical,\n  PanelLeftClose,\n  PanelLeft,\n  Table,\n  Plus,\n  Trash2,\n  ArrowRightFromLine,\n  ArrowLeftFromLine,\n  ArrowDownFromLine,\n  ArrowUpFromLine,\n  ExternalLink,\n  Download,\n} from 'lucide-react'\nimport { Separator } from '@/components/ui/separator'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogDescription,\n} from '@/components/ui/dialog'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport useFunnelStore from '@/stores/useFunnelStore'\nimport useProjectStore from '@/stores/useProjectStore'\nimport CanvasBoard from '@/components/canvas/CanvasBoard'\nimport { cn } from '@/lib/utils'\n\nconst getCanvasPreviewInnerHtml = (canvas: Funnel) => {\n  const nodes = canvas.nodes\n  const edges = canvas.edges\n\n  let minX = Infinity,\n    maxX = -Infinity,\n    minY = Infinity,\n    maxY = -Infinity\n  nodes.forEach((n) => {\n    if (n.x < minX) minX = n.x\n    if (n.x + 280 > maxX) maxX = n.x + 280\n    if (n.y < minY) minY = n.y\n    if (n.y + 74 > maxY) maxY = n.y + 74\n  })\n\n  const containerWidth = 600\n  const containerHeight = 240\n\n  if (nodes.length === 0) {\n    minX = 0\n    maxX = containerWidth\n    minY = 0\n    maxY = containerHeight\n  }\n\n  const padding = 24\n  const contentWidth = maxX - minX || containerWidth\n  const contentHeight = maxY - minY || containerHeight\n\n  const scale = Math.min(\n    (containerWidth - padding * 2) / contentWidth,\n    (containerHeight - padding * 2) / contentHeight,\n    1,\n  )\n\n  const xOffset = (containerWidth - contentWidth * scale) / 2 - minX * scale\n  const yOffset = (containerHeight - contentHeight * scale) / 2 - minY * scale\n\n  const nodesHtml = nodes\n    .map((n) => {\n      const left = n.x * scale + xOffset\n      const top = n.y * scale + yOffset\n      const width = 280 * scale\n      const height = 74 * scale\n      return `<div style=\"position: absolute; left: ${left}px; top: ${top}px; width: ${width}px; height: ${height}px; background: hsl(var(--card)); border: 1px solid hsl(var(--border)); border-radius: ${8 * scale}px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); display: flex; align-items: center; padding: ${8 * scale}px; box-sizing: border-box; overflow: hidden; pointer-events: none;\">\n      <div style=\"flex-shrink: 0; width: ${24 * scale}px; height: ${24 * scale}px; background: hsl(var(--muted)); border-radius: ${6 * scale}px; margin-right: ${10 * scale}px; border: 1px solid hsl(var(--border)); display: flex; align-items: center; justify-content: center; color: hsl(var(--muted-foreground));\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${14 * scale}\" height=\"${14 * scale}\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect width=\"18\" height=\"18\" x=\"3\" y=\"3\" rx=\"2\" ry=\"2\"/></svg>\n      </div>\n      <div style=\"min-width: 0; flex: 1;\">\n         <div style=\"font-size: ${12 * scale}px; font-weight: 600; color: hsl(var(--foreground)); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.2;\">${n.data.name}</div>\n         <div style=\"font-size: ${10 * scale}px; color: hsl(var(--muted-foreground)); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-top: ${2 * scale}px;\">${n.data.subtitle || 'Configure this step'}</div>\n      </div>\n    </div>`\n    })\n    .join('')\n\n  const edgesHtml = edges\n    .map((e) => {\n      const sourceNode = nodes.find((n) => n.id === e.source)\n      const targetNode = nodes.find((n) => n.id === e.target)\n      if (!sourceNode || !targetNode) return ''\n\n      const startX = (sourceNode.x + 280) * scale + xOffset\n      const startY = (sourceNode.y + 37) * scale + yOffset\n      const endX = targetNode.x * scale + xOffset\n      const endY = (targetNode.y + 37) * scale + yOffset\n\n      const d = `M ${startX} ${startY} C ${startX + 30 * scale} ${startY}, ${endX - 30 * scale} ${endY}, ${endX} ${endY}`\n\n      return `<path d=\"${d}\" stroke=\"hsl(var(--border))\" stroke-width=\"${2 * scale}\" fill=\"none\" pointer-events=\"none\" />`\n    })\n    .join('')\n\n  const isEmpty = nodes.length === 0\n  const emptyStateHtml = isEmpty\n    ? `\n    <div style=\"position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; color: hsl(var(--muted-foreground)); pointer-events: none;\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" style=\"margin-bottom: 8px; opacity: 0.5;\"><rect width=\"18\" height=\"18\" x=\"3\" y=\"3\" rx=\"2\" ry=\"2\"/><path d=\"M9 17V7h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2z\"/></svg>\n      <span style=\"font-size: 13px; font-weight: 500;\">Canvas vazio</span>\n    </div>\n  `\n    : ''\n\n  return `\n    <h4 style=\"margin: 0 0 12px 0; font-size: 16px; font-weight: 700; color: hsl(var(--foreground)); font-family: inherit; line-height: 1; pointer-events: none;\">${canvas.name}</h4>\n    <div class=\"border border-border bg-muted/20 rounded-xl overflow-hidden shadow-sm cursor-pointer transition-all hover:border-primary/40 hover:shadow-md ring-offset-background hover:ring-1 hover:ring-primary/20\" style=\"width: 100%; max-width: 600px; height: ${containerHeight}px; position: relative;\">\n      <div style=\"position: absolute; inset: 0; background-image: radial-gradient(hsl(var(--border)) 1px, transparent 0); background-size: 16px 16px; opacity: 0.4; pointer-events: none;\"></div>\n      ${emptyStateHtml}\n      <svg style=\"position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none;\">\n        ${edgesHtml}\n      </svg>\n      ${nodesHtml}\n      <div class=\"absolute inset-0 flex items-center justify-center gap-3 bg-background/60 backdrop-blur-[2px] opacity-0 transition-opacity duration-200 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto\">\n         <div data-action=\"preview\" class=\"bg-card px-4 py-2 rounded-xl shadow-lg text-sm font-semibold text-foreground flex items-center gap-2 transform translate-y-2 transition-all hover:bg-muted border border-border cursor-pointer pointer-events-auto group-hover:translate-y-0\">\n           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 20h9\"/><path d=\"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z\"/></svg>\n           Visualizar Lateral\n         </div>\n         <div data-action=\"navigate\" class=\"bg-primary px-4 py-2 rounded-xl shadow-lg text-sm font-semibold text-primary-foreground flex items-center gap-2 transform translate-y-2 transition-all hover:brightness-110 border border-primary cursor-pointer pointer-events-auto group-hover:translate-y-0\">\n           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6\"/><path d=\"m21 3-9 9\"/><path d=\"M15 3h6v6\"/></svg>\n           Ir até o Canvas\n         </div>\n      </div>\n    </div>\n  `\n}\n\nexport default function RichTextEditor({\n  doc,\n  onChange,\n  onTitleChange,\n  onProjectChange,\n}: {\n  doc: Document\n  onChange: (c: string) => void\n  onTitleChange: (t: string) => void\n  onProjectChange: (p: string | null) => void\n}) {\n  const navigate = useNavigate()\n  const editorRef = useRef<HTMLDivElement>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n  const [funnels, setFunnels] = useFunnelStore()\n  const [projects] = useProjectStore()\n  const [canvasModalOpen, setCanvasModalOpen] = useState(false)\n  const [selectedCanvasId, setSelectedCanvasId] = useState<string | null>(null)\n  const [imageModalOpen, setImageModalOpen] = useState(false)\n  const [imageUrl, setImageUrl] = useState('')\n  const [savedRange, setSavedRange] = useState<Range | null>(null)\n  const [editingCanvasId, setEditingCanvasId] = useState<string | null>(null)\n  const [isOutlineOpen, setIsOutlineOpen] = useState(false)\n  const [activeTableNode, setActiveTableNode] =\n    useState<HTMLTableElement | null>(null)\n  const [activeTableCell, setActiveTableCell] =\n    useState<HTMLTableCellElement | null>(null)\n\n  // Header outline state\n  const [headers, setHeaders] = useState<\n    { id: string; text: string; level: number }[]\n  >([])\n\n  const extractHeaders = useCallback(() => {\n    if (!editorRef.current) return\n    const headerElements = editorRef.current.querySelectorAll(\n      'h1, h2, h3, h4, h5, h6',\n    )\n    const extracted: { id: string; text: string; level: number }[] = []\n\n    headerElements.forEach((el, index) => {\n      // Ensure element has an ID for anchoring\n      if (!el.id) {\n        el.id = `header-${index}-${Date.now()}`\n      }\n      extracted.push({\n        id: el.id,\n        text: el.textContent || 'Sem Título',\n        level: parseInt(el.tagName.replace('H', ''), 10),\n      })\n    })\n\n    setHeaders(extracted)\n  }, [])\n\n  const [panelWidth, setPanelWidth] = useState(() => {\n    if (typeof window !== 'undefined') {\n      if (window.innerWidth >= 1280) return 600\n      if (window.innerWidth >= 1024) return 500\n      return 450\n    }\n    return 500\n  })\n  const [isResizing, setIsResizing] = useState(false)\n  const isResizingRef = useRef(false)\n\n  useEffect(() => {\n    if (editorRef.current && editorRef.current.innerHTML !== doc.content) {\n      editorRef.current.innerHTML = doc.content\n\n      let hasChanges = false\n      const blocks = editorRef.current.querySelectorAll('.canvas-preview-block')\n      blocks.forEach((block) => {\n        const canvasId = block.getAttribute('data-canvas-id')\n        if (canvasId) {\n          const canvas = funnels.find((f) => f.id === canvasId)\n          if (canvas) {\n            block.setAttribute(\n              'style',\n              'margin: 32px 0; user-select: none; display: flex; flex-direction: column; align-items: flex-start;',\n            )\n            const newInnerHtml = getCanvasPreviewInnerHtml(canvas)\n            if (block.innerHTML !== newInnerHtml) {\n              block.innerHTML = newInnerHtml\n              hasChanges = true\n            }\n          }\n        }\n      })\n\n      if (hasChanges) {\n        onChange(editorRef.current.innerHTML)\n      }\n      extractHeaders()\n    }\n  }, [doc.id, doc.content])\n\n  const saveSelection = useCallback(() => {\n    const selection = window.getSelection()\n    if (selection && selection.rangeCount > 0) {\n      const range = selection.getRangeAt(0)\n      if (\n        editorRef.current &&\n        editorRef.current.contains(range.commonAncestorContainer)\n      ) {\n        setSavedRange(range.cloneRange())\n\n        // Check for active table cell\n        let node = range.commonAncestorContainer as Node | null\n        if (node?.nodeType === Node.TEXT_NODE) {\n          node = node.parentNode\n        }\n\n        const cell = (node as Element)?.closest?.(\n          'td, th',\n        ) as HTMLTableCellElement | null\n        const table = (node as Element)?.closest?.(\n          'table',\n        ) as HTMLTableElement | null\n\n        setActiveTableCell(cell)\n        setActiveTableNode(table)\n      } else {\n        setActiveTableCell(null)\n        setActiveTableNode(null)\n      }\n    }\n  }, [])\n\n  const restoreSelection = useCallback(() => {\n    editorRef.current?.focus()\n    if (savedRange) {\n      const selection = window.getSelection()\n      if (selection) {\n        selection.removeAllRanges()\n        selection.addRange(savedRange)\n      }\n    } else {\n      if (editorRef.current) {\n        const range = document.createRange()\n        range.selectNodeContents(editorRef.current)\n        range.collapse(false)\n        const selection = window.getSelection()\n        if (selection) {\n          selection.removeAllRanges()\n          selection.addRange(range)\n        }\n      }\n    }\n  }, [savedRange])\n\n  const insertHtmlAtSelection = (htmlString: string) => {\n    restoreSelection()\n\n    let success = false\n    try {\n      success = document.execCommand('insertHTML', false, htmlString)\n    } catch (e) {\n      success = false\n    }\n\n    if (!success) {\n      const selection = window.getSelection()\n      if (selection && selection.rangeCount > 0) {\n        const range = selection.getRangeAt(0)\n        range.deleteContents()\n\n        const el = document.createElement('div')\n        el.innerHTML = htmlString\n\n        const frag = document.createDocumentFragment()\n        let node, lastNode\n        while ((node = el.firstChild)) {\n          lastNode = frag.appendChild(node)\n        }\n\n        range.insertNode(frag)\n\n        if (lastNode) {\n          range.setStartAfter(lastNode)\n          range.collapse(true)\n          selection.removeAllRanges()\n          selection.addRange(range)\n        }\n      }\n    }\n\n    if (editorRef.current) {\n      onChange(editorRef.current.innerHTML)\n    }\n  }\n\n  const exec = (cmd: string, val?: string) => {\n    document.execCommand(cmd, false, val)\n    editorRef.current?.focus()\n    if (editorRef.current) {\n      onChange(editorRef.current.innerHTML)\n    }\n  }\n\n  const insertImage = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!imageUrl.trim()) return\n    insertHtmlAtSelection(\n      `<img src=\"${imageUrl}\" alt=\"Imagem Inserida\" style=\"max-width: 100%; border-radius: 8px; margin: 16px 0;\" /><p><br></p>`,\n    )\n    setImageUrl('')\n    setImageModalOpen(false)\n  }\n\n  const insertCanvas = () => {\n    if (!selectedCanvasId) return\n    const canvas = funnels.find((f) => f.id === selectedCanvasId)\n    if (!canvas) return\n\n    const html = `\n      <div contenteditable=\"false\" class=\"canvas-preview-block group\" data-canvas-id=\"${canvas.id}\" style=\"margin: 32px 0; user-select: none; display: flex; flex-direction: column; align-items: flex-start;\">\n        ${getCanvasPreviewInnerHtml(canvas)}\n      </div>\n      <p><br></p>\n    `\n\n    insertHtmlAtSelection(html)\n\n    setCanvasModalOpen(false)\n    setSelectedCanvasId(null)\n  }\n\n  const handleToolbarMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault()\n  }\n\n  const handleEditorClick = (e: React.MouseEvent) => {\n    const target = e.target as HTMLElement\n\n    // Canvas Preview clicks\n    const canvasBlock = target.closest('.canvas-preview-block')\n    if (canvasBlock) {\n      e.preventDefault()\n      const canvasId = canvasBlock.getAttribute('data-canvas-id')\n      if (canvasId) {\n        const actionBtn = target.closest('[data-action]')\n        const action = actionBtn?.getAttribute('data-action')\n\n        if (action === 'navigate') {\n          navigate(`/canvas/${canvasId}`)\n        } else {\n          setEditingCanvasId(canvasId)\n        }\n      }\n    }\n\n    // Check table selection immediately on click\n    let node = target as Element | null\n    const cell = node?.closest?.('td, th') as HTMLTableCellElement | null\n    const table = node?.closest?.('table') as HTMLTableElement | null\n    setActiveTableCell(cell)\n    setActiveTableNode(table)\n  }\n\n  // Table Operations\n  const insertTable = () => {\n    const tableHtml = `\n      <table class=\"w-full border-collapse border border-border my-4 shadow-sm rounded-lg overflow-hidden bg-card text-sm\">\n        <thead>\n          <tr class=\"bg-muted/50 border-b border-border\">\n            <th class=\"border border-border p-3 text-left font-semibold\">Cabeçalho 1</th>\n            <th class=\"border border-border p-3 text-left font-semibold\">Cabeçalho 2</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr class=\"border-b border-border\">\n            <td class=\"border border-border p-3\">Linha 1, Col 1</td>\n            <td class=\"border border-border p-3\">Linha 1, Col 2</td>\n          </tr>\n          <tr class=\"border-b border-border\">\n            <td class=\"border border-border p-3\">Linha 2, Col 1</td>\n            <td class=\"border border-border p-3\">Linha 2, Col 2</td>\n          </tr>\n        </tbody>\n      </table>\n      <p><br/></p>\n    `\n    insertHtmlAtSelection(tableHtml)\n  }\n\n  const addRow = (direction: 'above' | 'below') => {\n    if (!activeTableCell || !activeTableNode) return\n    const tr = activeTableCell.closest('tr')\n    if (!tr) return\n\n    const newTr = document.createElement('tr')\n    newTr.className = 'border-b border-border'\n    const cellCount = tr.children.length\n\n    for (let i = 0; i < cellCount; i++) {\n      const td = document.createElement('td')\n      td.className = 'border border-border p-3'\n      td.innerHTML = '<br/>'\n      newTr.appendChild(td)\n    }\n\n    if (direction === 'above') {\n      tr.parentNode?.insertBefore(newTr, tr)\n    } else {\n      tr.parentNode?.insertBefore(newTr, tr.nextSibling)\n    }\n    onChange(editorRef.current!.innerHTML)\n  }\n\n  const addColumn = (direction: 'left' | 'right') => {\n    if (!activeTableCell || !activeTableNode) return\n    const tr = activeTableCell.closest('tr')\n    if (!tr) return\n\n    const cellIndex = Array.from(tr.children).indexOf(activeTableCell)\n    const rows = activeTableNode.querySelectorAll('tr')\n\n    rows.forEach((row) => {\n      const isHeader = row.parentNode?.nodeName.toLowerCase() === 'thead'\n      const cell = document.createElement(isHeader ? 'th' : 'td')\n      cell.className = isHeader\n        ? 'border border-border p-3 text-left font-semibold'\n        : 'border border-border p-3'\n      cell.innerHTML = '<br/>'\n\n      const targetCell = row.children[cellIndex]\n      if (targetCell) {\n        if (direction === 'left') {\n          row.insertBefore(cell, targetCell)\n        } else {\n          row.insertBefore(cell, targetCell.nextSibling)\n        }\n      }\n    })\n    onChange(editorRef.current!.innerHTML)\n  }\n\n  const deleteRow = () => {\n    if (!activeTableCell || !activeTableNode) return\n    const tr = activeTableCell.closest('tr')\n    if (!tr) return\n\n    if (activeTableNode.querySelectorAll('tr').length <= 2) {\n      // Avoid deleting the last row of the body\n      return deleteTable()\n    }\n\n    tr.remove()\n    setActiveTableCell(null)\n    onChange(editorRef.current!.innerHTML)\n  }\n\n  const deleteColumn = () => {\n    if (!activeTableCell || !activeTableNode) return\n    const tr = activeTableCell.closest('tr')\n    if (!tr) return\n\n    if (tr.children.length <= 1) {\n      return deleteTable()\n    }\n\n    const cellIndex = Array.from(tr.children).indexOf(activeTableCell)\n    const rows = activeTableNode.querySelectorAll('tr')\n\n    rows.forEach((row) => {\n      const targetCell = row.children[cellIndex]\n      if (targetCell) {\n        targetCell.remove()\n      }\n    })\n    setActiveTableCell(null)\n    onChange(editorRef.current!.innerHTML)\n  }\n\n  const deleteTable = () => {\n    if (!activeTableNode) return\n    activeTableNode.remove()\n    setActiveTableNode(null)\n    setActiveTableCell(null)\n    onChange(editorRef.current!.innerHTML)\n  }\n\n  const insertNewGuide = () => {\n    const pageBreakHtml = `\n      <div contenteditable=\"false\" style=\"margin: 80px -40px; height: 32px; background: #f8fafc; border-top: 1px dashed #cbd5e1; border-bottom: 1px dashed #cbd5e1; display: flex; align-items: center; justify-content: center; user-select: none;\">\n         <span style=\"font-size: 11px; text-transform: uppercase; letter-spacing: 0.1em; color: #94a3b8; font-weight: 600;\">Nova Seção</span>\n      </div>\n      <h2>Nova Guia</h2>\n      <p><br/></p>\n    `\n    insertHtmlAtSelection(pageBreakHtml)\n\n    setTimeout(() => {\n      if (editorRef.current) {\n        const h2s = editorRef.current.querySelectorAll('h2')\n        const lastH2 = h2s[h2s.length - 1]\n        if (lastH2) {\n          const selection = window.getSelection()\n          const range = document.createRange()\n          range.selectNodeContents(lastH2)\n          selection?.removeAllRanges()\n          selection?.addRange(range)\n          lastH2.scrollIntoView({ behavior: 'smooth', block: 'center' })\n        }\n      }\n    }, 50)\n  }\n\n  const handleCanvasChange = (updatedFunnel: Funnel) => {\n    setFunnels(\n      funnels.map((f) => (f.id === updatedFunnel.id ? updatedFunnel : f)),\n    )\n\n    if (editorRef.current) {\n      let hasChanges = false\n      const blocks = editorRef.current.querySelectorAll(\n        `.canvas-preview-block[data-canvas-id=\"${updatedFunnel.id}\"]`,\n      )\n      blocks.forEach((block) => {\n        block.setAttribute(\n          'style',\n          'margin: 32px 0; user-select: none; display: flex; flex-direction: column; align-items: flex-start;',\n        )\n        block.innerHTML = getCanvasPreviewInnerHtml(updatedFunnel)\n        hasChanges = true\n      })\n      if (hasChanges) {\n        onChange(editorRef.current.innerHTML)\n      }\n    }\n  }\n\n  const startResizing = useCallback((e: React.MouseEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    isResizingRef.current = true\n    setIsResizing(true)\n    document.body.style.cursor = 'col-resize'\n    document.body.style.userSelect = 'none'\n\n    const handleMouseMove = (ev: MouseEvent) => {\n      if (!isResizingRef.current || !containerRef.current) return\n      const containerRect = containerRef.current.getBoundingClientRect()\n      const newWidth = containerRect.right - ev.clientX\n      const minW = 450\n      const maxW = Math.min(window.innerWidth * 0.8, containerRect.width - 300)\n\n      if (newWidth >= minW && newWidth <= maxW) {\n        setPanelWidth(newWidth)\n      } else if (newWidth < minW) {\n        setPanelWidth(minW)\n      } else if (newWidth > maxW) {\n        setPanelWidth(maxW)\n      }\n    }\n\n    const handleMouseUp = () => {\n      isResizingRef.current = false\n      setIsResizing(false)\n      document.body.style.cursor = ''\n      document.body.style.userSelect = ''\n      document.removeEventListener('mousemove', handleMouseMove)\n      document.removeEventListener('mouseup', handleMouseUp)\n    }\n\n    document.addEventListener('mousemove', handleMouseMove)\n    document.addEventListener('mouseup', handleMouseUp)\n  }, [])\n\n  const activeCanvas = funnels.find((f) => f.id === editingCanvasId)\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"flex w-full h-full overflow-hidden bg-transparent relative\"\n    >\n      {/* GUIAS DO DOCUMENTO (OUTLINE) */}\n      <div\n        className={cn(\n          'hidden xl:flex shrink-0 bg-transparent flex-col transition-all duration-200 ease-in-out border-r border-slate-200/50',\n          isOutlineOpen ? 'w-64' : 'w-[56px] items-center',\n        )}\n      >\n        <div\n          className={cn(\n            'flex flex-col w-full transition-all duration-200 ease-in-out',\n            isOutlineOpen ? 'py-5 px-6 gap-4' : 'py-3 px-0 items-center gap-3',\n          )}\n        >\n          {isOutlineOpen ? (\n            <>\n              <div className=\"flex items-center w-full justify-between\">\n                <h3 className=\"text-sm font-semibold text-foreground flex items-center gap-2 whitespace-nowrap overflow-hidden\">\n                  <List size={16} className=\"text-primary shrink-0\" /> Guias no\n                  documento\n                </h3>\n                <button\n                  onClick={() => setIsOutlineOpen(false)}\n                  className=\"h-8 w-8 flex items-center justify-center text-muted-foreground shrink-0 rounded-lg hover:bg-slate-100 cursor-pointer outline-none transition-colors\"\n                  title=\"Minimizar Guias\"\n                >\n                  <PanelLeftClose size={16} />\n                </button>\n              </div>\n              <div className=\"flex w-full\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"h-8 shadow-sm flex-1 font-semibold text-xs border-dashed text-muted-foreground hover:text-foreground hover:border-solid hover:border-primary/50 hover:bg-primary/5\"\n                  onClick={insertNewGuide}\n                  title=\"Adicionar novo título\"\n                >\n                  <Plus size={14} className=\"mr-1.5\" /> Adicionar Guia\n                </Button>\n              </div>\n            </>\n          ) : (\n            <>\n              <button\n                onClick={() => setIsOutlineOpen(true)}\n                className=\"h-8 w-8 flex items-center justify-center text-muted-foreground shrink-0 rounded-lg hover:bg-slate-100 cursor-pointer outline-none transition-colors\"\n                title=\"Expandir Guias\"\n              >\n                <PanelLeft size={20} />\n              </button>\n              <Button\n                size=\"icon\"\n                variant=\"outline\"\n                className=\"h-8 w-8 shrink-0 rounded-lg border-dashed text-muted-foreground hover:text-foreground hover:border-solid hover:border-primary/50 hover:bg-primary/5\"\n                onClick={insertNewGuide}\n                title=\"Adicionar Guia\"\n              >\n                <Plus size={16} />\n              </Button>\n              <button\n                onClick={() => setIsOutlineOpen(true)}\n                className=\"h-8 w-8 flex items-center justify-center text-primary/50 shrink-0 hover:bg-slate-100 rounded-lg cursor-pointer outline-none transition-colors\"\n                title=\"Ver Guias\"\n              >\n                <List size={18} />\n              </button>\n            </>\n          )}\n        </div>\n\n        {isOutlineOpen && (\n          <div className=\"flex-1 overflow-y-auto space-y-1 p-6 pt-0 pr-4 no-scrollbar animate-fade-in w-full\">\n            {headers.length === 0 ? (\n              <p className=\"text-xs text-muted-foreground italic\">\n                Adicione títulos (H1, H2, etc.) para criar o sumário do\n                documento.\n              </p>\n            ) : (\n              headers.map((header) => (\n                <button\n                  key={header.id}\n                  onClick={() => {\n                    const el = document.getElementById(header.id)\n                    if (el)\n                      el.scrollIntoView({ behavior: 'smooth', block: 'center' })\n                  }}\n                  style={{ paddingLeft: `${(header.level - 1) * 12}px` }}\n                  className={cn(\n                    'w-full text-left text-sm py-1.5 px-2 rounded-md hover:bg-primary/10 transition-colors line-clamp-2',\n                    header.level === 1\n                      ? 'font-semibold text-foreground mt-2'\n                      : 'text-muted-foreground',\n                  )}\n                >\n                  {header.text}\n                </button>\n              ))\n            )}\n          </div>\n        )}\n      </div>\n\n      <div\n        className={cn(\n          'flex flex-col h-full overflow-y-auto ease-in-out flex-1 min-w-0 px-4 sm:px-6 lg:px-8',\n          !isResizing && 'transition-all duration-300',\n        )}\n      >\n        <div\n          className={cn(\n            'flex flex-col mx-auto w-full bg-white shadow-sm border border-slate-200/60 rounded-xl relative my-4 sm:my-6 lg:my-8',\n            !isResizing && 'transition-all duration-300',\n            'max-w-[1000px] min-h-[max-content]',\n          )}\n        >\n          <div className=\"flex flex-col gap-4 border-b border-slate-100 sticky top-0 bg-white/95 backdrop-blur z-30 shrink-0 p-6 lg:px-10 lg:pt-10 lg:pb-4 rounded-t-xl shadow-sm\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n              <Input\n                value={doc.title}\n                onChange={(e) => onTitleChange(e.target.value)}\n                className=\"text-3xl font-bold border-none outline-none focus-visible:ring-0 px-0 h-auto shadow-none bg-transparent flex-1\"\n                placeholder=\"Título do Documento\"\n              />\n              <div className=\"flex flex-col sm:flex-row items-end sm:items-center gap-2 shrink-0\">\n                {doc.funnelId && doc.nodeId && (\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() =>\n                      navigate(`/canvas/${doc.funnelId}?nodeId=${doc.nodeId}`)\n                    }\n                    className=\"text-purple-600 border-purple-200 bg-purple-50 hover:bg-purple-100 shrink-0 h-9\"\n                  >\n                    <Network size={14} className=\"mr-1.5\" /> Ver no Canvas\n                  </Button>\n                )}\n                <Select\n                  value={doc.projectId || 'none'}\n                  onValueChange={(val) =>\n                    onProjectChange(val === 'none' ? null : val)\n                  }\n                >\n                  <SelectTrigger className=\"w-[180px] h-9 bg-muted/30 border-slate-200\">\n                    <SelectValue placeholder=\"Project\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"none\">Nenhum Projeto</SelectItem>\n                    {projects.map((p) => (\n                      <SelectItem key={p.id} value={p.id}>\n                        {p.name}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {/* TOOLBAR FIXADA NO TOPO */}\n            <div className=\"flex items-center gap-1 shrink-0 flex-wrap mt-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('formatBlock', 'H1')}\n                title=\"Título 1\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Heading1 size={16} />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('formatBlock', 'H2')}\n                title=\"Título 2\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Heading2 size={16} />\n              </Button>\n              <Separator orientation=\"vertical\" className=\"h-4 mx-1\" />\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('bold')}\n                title=\"Negrito\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Bold size={16} />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('italic')}\n                title=\"Itálico\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Italic size={16} />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('underline')}\n                title=\"Sublinhado\"\n                className=\"rounded-lg h-8 w-8 text-slate-700 font-serif font-bold underline hover:bg-slate-100\"\n              >\n                U\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('strikeThrough')}\n                title=\"Tachado\"\n                className=\"rounded-lg h-8 w-8 text-slate-700 font-serif font-bold line-through hover:bg-slate-100\"\n              >\n                S\n              </Button>\n\n              <Separator orientation=\"vertical\" className=\"h-4 mx-1\" />\n\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('insertUnorderedList')}\n                title=\"Lista\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <List size={16} />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('insertOrderedList')}\n                title=\"Lista Numerada\"\n                className=\"rounded-lg h-8 w-8 font-mono text-sm font-bold hover:bg-slate-100\"\n              >\n                1.\n              </Button>\n\n              <Separator orientation=\"vertical\" className=\"h-4 mx-1\" />\n\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('justifyLeft')}\n                title=\"Alinhar à Esquerda\"\n                className=\"rounded-lg h-8 w-8 flex flex-col items-start gap-0.5 justify-center py-1.5 hover:bg-slate-100\"\n              >\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-3 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('justifyCenter')}\n                title=\"Centralizar\"\n                className=\"rounded-lg h-8 w-8 flex flex-col items-center gap-0.5 justify-center py-1.5 hover:bg-slate-100\"\n              >\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-3 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('justifyRight')}\n                title=\"Alinhar à Direita\"\n                className=\"rounded-lg h-8 w-8 flex flex-col items-end gap-0.5 justify-center py-1.5 hover:bg-slate-100\"\n              >\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-3 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n              </Button>\n\n              <Separator orientation=\"vertical\" className=\"h-4 mx-1\" />\n\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('formatBlock', 'BLOCKQUOTE')}\n                title=\"Citação\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Quote size={16} />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('insertHorizontalRule')}\n                title=\"Divisor\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <SeparatorHorizontal size={16} />\n              </Button>\n\n              <Separator orientation=\"vertical\" className=\"h-4 mx-1\" />\n\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={insertTable}\n                title=\"Tabela\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Table size={16} />\n              </Button>\n\n              <Dialog open={imageModalOpen} onOpenChange={setImageModalOpen}>\n                <DialogTrigger asChild>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={() => saveSelection()}\n                    title=\"Adicionar Imagem\"\n                    className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n                  >\n                    <ImageIcon size={16} />\n                  </Button>\n                </DialogTrigger>\n                <DialogContent>\n                  <DialogHeader>\n                    <DialogTitle>Adicionar Imagem</DialogTitle>\n                    <DialogDescription className=\"sr-only\">\n                      Insira a URL da imagem que deseja adicionar ao documento.\n                    </DialogDescription>\n                  </DialogHeader>\n                  <form onSubmit={insertImage} className=\"space-y-4 pt-4\">\n                    <Input\n                      placeholder=\"URL da Imagem (ex: https://...)\"\n                      value={imageUrl}\n                      onChange={(e) => setImageUrl(e.target.value)}\n                      autoFocus\n                    />\n                    <Button type=\"submit\" className=\"w-full\">\n                      Inserir Imagem\n                    </Button>\n                  </form>\n                </DialogContent>\n              </Dialog>\n\n              <Dialog open={canvasModalOpen} onOpenChange={setCanvasModalOpen}>\n                <DialogTrigger asChild>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onMouseDown={() => saveSelection()}\n                    className=\"ml-2 flex items-center bg-primary/10 hover:bg-primary/20 text-primary transition-colors shrink-0 rounded-xl font-semibold px-4 h-8\"\n                    title=\"Importar Canvas\"\n                  >\n                    <Network size={14} className=\"mr-2\" /> Importar Canvas\n                  </Button>\n                </DialogTrigger>\n\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"flex items-center text-muted-foreground hover:text-foreground transition-colors shrink-0 rounded-xl px-3 h-8\"\n                  title=\"Exportar como texto\"\n                  onClick={() => {\n                    const text = editorRef.current?.innerText || ''\n                    const blob = new Blob([`# ${doc.title}\\n\\n${text}`], {\n                      type: 'text/plain',\n                    })\n                    const url = URL.createObjectURL(blob)\n                    const a = document.createElement('a')\n                    a.href = url\n                    a.download = `${doc.title.replace(/\\s+/g, '_')}.txt`\n                    a.click()\n                    URL.revokeObjectURL(url)\n                  }}\n                >\n                  <Download size={14} className=\"mr-1.5\" /> Exportar\n                </Button>\n                <DialogContent className=\"max-w-2xl\">\n                  <DialogHeader>\n                    <DialogTitle>Selecionar Canvas</DialogTitle>\n                    <DialogDescription className=\"sr-only\">\n                      Selecione um funil/canvas da lista para importar sua\n                      visualização.\n                    </DialogDescription>\n                  </DialogHeader>\n                  <div className=\"grid grid-cols-2 gap-4 py-4 max-h-[60vh] overflow-y-auto px-1\">\n                    {funnels.map((f) => (\n                      <div\n                        key={f.id}\n                        onClick={() => setSelectedCanvasId(f.id)}\n                        className={cn(\n                          'border rounded-lg p-4 cursor-pointer transition-all flex flex-col items-center justify-center text-center gap-2',\n                          selectedCanvasId === f.id\n                            ? 'border-primary ring-1 ring-primary bg-primary/5'\n                            : 'hover:border-primary/50 bg-card',\n                        )}\n                      >\n                        <div className=\"w-10 h-10 rounded-full bg-muted flex items-center justify-center mb-1\">\n                          <Network\n                            size={20}\n                            className={\n                              selectedCanvasId === f.id\n                                ? 'text-primary'\n                                : 'text-muted-foreground'\n                            }\n                          />\n                        </div>\n                        <div>\n                          <h4 className=\"font-medium text-sm\">{f.name}</h4>\n                          <p className=\"text-xs text-muted-foreground\">\n                            {f.nodes.length} blocos mapeados\n                          </p>\n                        </div>\n                      </div>\n                    ))}\n                    {funnels.length === 0 && (\n                      <div className=\"col-span-2 text-center py-8 text-muted-foreground text-sm\">\n                        Nenhum canvas disponível para importação.\n                      </div>\n                    )}\n                  </div>\n                  <Button\n                    onClick={insertCanvas}\n                    disabled={!selectedCanvasId}\n                    className=\"w-full\"\n                  >\n                    Importar Visualização\n                  </Button>\n                </DialogContent>\n              </Dialog>\n\n              {activeTableNode && (\n                <div className=\"flex items-center gap-1 animate-in fade-in zoom-in-95 duration-200 ml-4 py-1 px-2 bg-primary/10 border border-primary/20 rounded-lg shrink-0\">\n                  <span className=\"text-xs font-semibold text-primary mr-1 px-1\">\n                    Tabela\n                  </span>\n                  <Separator\n                    orientation=\"vertical\"\n                    className=\"h-4 mx-1 bg-primary/20\"\n                  />\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={() => addRow('above')}\n                    className=\"h-7 w-7 text-primary hover:bg-primary/20 rounded-md\"\n                    title=\"Adicionar Linha Acima\"\n                  >\n                    <ArrowUpFromLine size={14} />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={() => addRow('below')}\n                    className=\"h-7 w-7 text-primary hover:bg-primary/20 rounded-md\"\n                    title=\"Adicionar Linha Abaixo\"\n                  >\n                    <ArrowDownFromLine size={14} />\n                  </Button>\n                  <Separator\n                    orientation=\"vertical\"\n                    className=\"h-4 mx-1 bg-primary/20\"\n                  />\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={() => addColumn('left')}\n                    className=\"h-7 w-7 text-primary hover:bg-primary/20 rounded-md\"\n                    title=\"Adicionar Coluna à Esquerda\"\n                  >\n                    <ArrowLeftFromLine size={14} />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={() => addColumn('right')}\n                    className=\"h-7 w-7 text-primary hover:bg-primary/20 rounded-md\"\n                    title=\"Adicionar Coluna à Direita\"\n                  >\n                    <ArrowRightFromLine size={14} />\n                  </Button>\n                  <Separator\n                    orientation=\"vertical\"\n                    className=\"h-4 mx-1 bg-primary/20\"\n                  />\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={deleteRow}\n                    className=\"h-7 w-7 text-destructive hover:bg-destructive/10 rounded-md\"\n                    title=\"Excluir Linha\"\n                  >\n                    <Trash2 size={13} className=\"opacity-80\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={deleteTable}\n                    className=\"h-7 w-7 text-destructive hover:bg-destructive/10 rounded-md\"\n                    title=\"Excluir Tabela Inteira\"\n                  >\n                    <Trash2 size={14} />\n                  </Button>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"mx-6 lg:mx-10 mb-12 mt-8 flex-1 flex flex-col relative w-full\">\n            <div\n              ref={editorRef}\n              contentEditable\n              className=\"flex-1 outline-none prose prose-slate max-w-none focus:outline-none min-h-[500px] pb-32 prose-headings:font-bold prose-h1:text-4xl prose-h2:text-2xl prose-p:text-base prose-p:leading-relaxed\"\n              onBlur={(e) => {\n                saveSelection()\n                onChange(e.currentTarget.innerHTML)\n                extractHeaders()\n              }}\n              onKeyUp={() => {\n                saveSelection()\n                extractHeaders()\n              }}\n              onMouseUp={saveSelection}\n              onInput={(e) => {\n                onChange(e.currentTarget.innerHTML)\n              }}\n              onClick={handleEditorClick}\n              style={{ caretColor: 'hsl(var(--primary))' }}\n            />\n          </div>\n        </div>\n      </div>\n\n      {editingCanvasId && activeCanvas && (\n        <div\n          style={{ width: `${panelWidth}px` }}\n          className={cn(\n            'h-full flex flex-col bg-background shadow-[-10px_0_40px_rgba(0,0,0,0.08)] z-20 shrink-0 border-l border-border relative',\n            !isResizing && 'transition-all duration-300',\n            'animate-in slide-in-from-right',\n          )}\n        >\n          <div\n            className=\"absolute -left-3 top-0 bottom-0 w-6 cursor-col-resize z-50 group/resizer flex items-center justify-center\"\n            onMouseDown={startResizing}\n          >\n            <div className=\"absolute w-1.5 h-full left-1/2 -translate-x-1/2 opacity-0 group-hover/resizer:opacity-100 bg-primary/20 transition-opacity\" />\n            <div className=\"w-[20px] h-[48px] bg-slate-900 rounded-full flex items-center justify-center text-white shadow-md transition-transform group-hover/resizer:scale-105 z-10\">\n              <GripVertical size={14} className=\"opacity-80\" />\n            </div>\n          </div>\n\n          <div className=\"h-16 border-b flex items-center justify-between px-6 bg-card shrink-0 shadow-sm z-10 relative\">\n            <div className=\"flex items-center gap-3 text-primary\">\n              <Network size={20} />\n              <h3 className=\"font-bold text-base text-foreground\">\n                {activeCanvas.name}\n              </h3>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={() => setEditingCanvasId(null)}\n              className=\"text-muted-foreground hover:text-foreground hover:bg-muted rounded-full\"\n            >\n              <X size={18} />\n            </Button>\n          </div>\n          <div className=\"flex-1 relative flex overflow-hidden\">\n            <CanvasBoard\n              funnel={activeCanvas}\n              onChange={handleCanvasChange}\n              hideHeader\n              onBack={() => setEditingCanvasId(null)}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","\"use client\";\n\n// src/scroll-area.tsx\nimport * as React2 from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\n\n// src/use-state-machine.ts\nimport * as React from \"react\";\nfunction useStateMachine(initialState, machine) {\n  return React.useReducer((state, event) => {\n    const nextState = machine[state][event];\n    return nextState ?? state;\n  }, initialState);\n}\n\n// src/scroll-area.tsx\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar SCROLL_AREA_NAME = \"ScrollArea\";\nvar [createScrollAreaContext, createScrollAreaScope] = createContextScope(SCROLL_AREA_NAME);\nvar [ScrollAreaProvider, useScrollAreaContext] = createScrollAreaContext(SCROLL_AREA_NAME);\nvar ScrollArea = React2.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeScrollArea,\n      type = \"hover\",\n      dir,\n      scrollHideDelay = 600,\n      ...scrollAreaProps\n    } = props;\n    const [scrollArea, setScrollArea] = React2.useState(null);\n    const [viewport, setViewport] = React2.useState(null);\n    const [content, setContent] = React2.useState(null);\n    const [scrollbarX, setScrollbarX] = React2.useState(null);\n    const [scrollbarY, setScrollbarY] = React2.useState(null);\n    const [cornerWidth, setCornerWidth] = React2.useState(0);\n    const [cornerHeight, setCornerHeight] = React2.useState(0);\n    const [scrollbarXEnabled, setScrollbarXEnabled] = React2.useState(false);\n    const [scrollbarYEnabled, setScrollbarYEnabled] = React2.useState(false);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setScrollArea(node));\n    const direction = useDirection(dir);\n    return /* @__PURE__ */ jsx(\n      ScrollAreaProvider,\n      {\n        scope: __scopeScrollArea,\n        type,\n        dir: direction,\n        scrollHideDelay,\n        scrollArea,\n        viewport,\n        onViewportChange: setViewport,\n        content,\n        onContentChange: setContent,\n        scrollbarX,\n        onScrollbarXChange: setScrollbarX,\n        scrollbarXEnabled,\n        onScrollbarXEnabledChange: setScrollbarXEnabled,\n        scrollbarY,\n        onScrollbarYChange: setScrollbarY,\n        scrollbarYEnabled,\n        onScrollbarYEnabledChange: setScrollbarYEnabled,\n        onCornerWidthChange: setCornerWidth,\n        onCornerHeightChange: setCornerHeight,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            dir: direction,\n            ...scrollAreaProps,\n            ref: composedRefs,\n            style: {\n              position: \"relative\",\n              // Pass corner sizes as CSS vars to reduce re-renders of context consumers\n              [\"--radix-scroll-area-corner-width\"]: cornerWidth + \"px\",\n              [\"--radix-scroll-area-corner-height\"]: cornerHeight + \"px\",\n              ...props.style\n            }\n          }\n        )\n      }\n    );\n  }\n);\nScrollArea.displayName = SCROLL_AREA_NAME;\nvar VIEWPORT_NAME = \"ScrollAreaViewport\";\nvar ScrollAreaViewport = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeScrollArea, children, nonce, ...viewportProps } = props;\n    const context = useScrollAreaContext(VIEWPORT_NAME, __scopeScrollArea);\n    const ref = React2.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onViewportChange);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        \"style\",\n        {\n          dangerouslySetInnerHTML: {\n            __html: `[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}`\n          },\n          nonce\n        }\n      ),\n      /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-radix-scroll-area-viewport\": \"\",\n          ...viewportProps,\n          ref: composedRefs,\n          style: {\n            /**\n             * We don't support `visible` because the intention is to have at least one scrollbar\n             * if this component is used and `visible` will behave like `auto` in that case\n             * https://developer.mozilla.org/en-US/docs/Web/CSS/overflow#description\n             *\n             * We don't handle `auto` because the intention is for the native implementation\n             * to be hidden if using this component. We just want to ensure the node is scrollable\n             * so could have used either `scroll` or `auto` here. We picked `scroll` to prevent\n             * the browser from having to work out whether to render native scrollbars or not,\n             * we tell it to with the intention of hiding them in CSS.\n             */\n            overflowX: context.scrollbarXEnabled ? \"scroll\" : \"hidden\",\n            overflowY: context.scrollbarYEnabled ? \"scroll\" : \"hidden\",\n            ...props.style\n          },\n          children: /* @__PURE__ */ jsx(\"div\", { ref: context.onContentChange, style: { minWidth: \"100%\", display: \"table\" }, children })\n        }\n      )\n    ] });\n  }\n);\nScrollAreaViewport.displayName = VIEWPORT_NAME;\nvar SCROLLBAR_NAME = \"ScrollAreaScrollbar\";\nvar ScrollAreaScrollbar = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { forceMount, ...scrollbarProps } = props;\n    const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n    const { onScrollbarXEnabledChange, onScrollbarYEnabledChange } = context;\n    const isHorizontal = props.orientation === \"horizontal\";\n    React2.useEffect(() => {\n      isHorizontal ? onScrollbarXEnabledChange(true) : onScrollbarYEnabledChange(true);\n      return () => {\n        isHorizontal ? onScrollbarXEnabledChange(false) : onScrollbarYEnabledChange(false);\n      };\n    }, [isHorizontal, onScrollbarXEnabledChange, onScrollbarYEnabledChange]);\n    return context.type === \"hover\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarHover, { ...scrollbarProps, ref: forwardedRef, forceMount }) : context.type === \"scroll\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarScroll, { ...scrollbarProps, ref: forwardedRef, forceMount }) : context.type === \"auto\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarAuto, { ...scrollbarProps, ref: forwardedRef, forceMount }) : context.type === \"always\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarVisible, { ...scrollbarProps, ref: forwardedRef }) : null;\n  }\n);\nScrollAreaScrollbar.displayName = SCROLLBAR_NAME;\nvar ScrollAreaScrollbarHover = React2.forwardRef((props, forwardedRef) => {\n  const { forceMount, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [visible, setVisible] = React2.useState(false);\n  React2.useEffect(() => {\n    const scrollArea = context.scrollArea;\n    let hideTimer = 0;\n    if (scrollArea) {\n      const handlePointerEnter = () => {\n        window.clearTimeout(hideTimer);\n        setVisible(true);\n      };\n      const handlePointerLeave = () => {\n        hideTimer = window.setTimeout(() => setVisible(false), context.scrollHideDelay);\n      };\n      scrollArea.addEventListener(\"pointerenter\", handlePointerEnter);\n      scrollArea.addEventListener(\"pointerleave\", handlePointerLeave);\n      return () => {\n        window.clearTimeout(hideTimer);\n        scrollArea.removeEventListener(\"pointerenter\", handlePointerEnter);\n        scrollArea.removeEventListener(\"pointerleave\", handlePointerLeave);\n      };\n    }\n  }, [context.scrollArea, context.scrollHideDelay]);\n  return /* @__PURE__ */ jsx(Presence, { present: forceMount || visible, children: /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarAuto,\n    {\n      \"data-state\": visible ? \"visible\" : \"hidden\",\n      ...scrollbarProps,\n      ref: forwardedRef\n    }\n  ) });\n});\nvar ScrollAreaScrollbarScroll = React2.forwardRef((props, forwardedRef) => {\n  const { forceMount, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const isHorizontal = props.orientation === \"horizontal\";\n  const debounceScrollEnd = useDebounceCallback(() => send(\"SCROLL_END\"), 100);\n  const [state, send] = useStateMachine(\"hidden\", {\n    hidden: {\n      SCROLL: \"scrolling\"\n    },\n    scrolling: {\n      SCROLL_END: \"idle\",\n      POINTER_ENTER: \"interacting\"\n    },\n    interacting: {\n      SCROLL: \"interacting\",\n      POINTER_LEAVE: \"idle\"\n    },\n    idle: {\n      HIDE: \"hidden\",\n      SCROLL: \"scrolling\",\n      POINTER_ENTER: \"interacting\"\n    }\n  });\n  React2.useEffect(() => {\n    if (state === \"idle\") {\n      const hideTimer = window.setTimeout(() => send(\"HIDE\"), context.scrollHideDelay);\n      return () => window.clearTimeout(hideTimer);\n    }\n  }, [state, context.scrollHideDelay, send]);\n  React2.useEffect(() => {\n    const viewport = context.viewport;\n    const scrollDirection = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n    if (viewport) {\n      let prevScrollPos = viewport[scrollDirection];\n      const handleScroll = () => {\n        const scrollPos = viewport[scrollDirection];\n        const hasScrollInDirectionChanged = prevScrollPos !== scrollPos;\n        if (hasScrollInDirectionChanged) {\n          send(\"SCROLL\");\n          debounceScrollEnd();\n        }\n        prevScrollPos = scrollPos;\n      };\n      viewport.addEventListener(\"scroll\", handleScroll);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll);\n    }\n  }, [context.viewport, isHorizontal, send, debounceScrollEnd]);\n  return /* @__PURE__ */ jsx(Presence, { present: forceMount || state !== \"hidden\", children: /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarVisible,\n    {\n      \"data-state\": state === \"hidden\" ? \"hidden\" : \"visible\",\n      ...scrollbarProps,\n      ref: forwardedRef,\n      onPointerEnter: composeEventHandlers(props.onPointerEnter, () => send(\"POINTER_ENTER\")),\n      onPointerLeave: composeEventHandlers(props.onPointerLeave, () => send(\"POINTER_LEAVE\"))\n    }\n  ) });\n});\nvar ScrollAreaScrollbarAuto = React2.forwardRef((props, forwardedRef) => {\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const { forceMount, ...scrollbarProps } = props;\n  const [visible, setVisible] = React2.useState(false);\n  const isHorizontal = props.orientation === \"horizontal\";\n  const handleResize = useDebounceCallback(() => {\n    if (context.viewport) {\n      const isOverflowX = context.viewport.offsetWidth < context.viewport.scrollWidth;\n      const isOverflowY = context.viewport.offsetHeight < context.viewport.scrollHeight;\n      setVisible(isHorizontal ? isOverflowX : isOverflowY);\n    }\n  }, 10);\n  useResizeObserver(context.viewport, handleResize);\n  useResizeObserver(context.content, handleResize);\n  return /* @__PURE__ */ jsx(Presence, { present: forceMount || visible, children: /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarVisible,\n    {\n      \"data-state\": visible ? \"visible\" : \"hidden\",\n      ...scrollbarProps,\n      ref: forwardedRef\n    }\n  ) });\n});\nvar ScrollAreaScrollbarVisible = React2.forwardRef((props, forwardedRef) => {\n  const { orientation = \"vertical\", ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const thumbRef = React2.useRef(null);\n  const pointerOffsetRef = React2.useRef(0);\n  const [sizes, setSizes] = React2.useState({\n    content: 0,\n    viewport: 0,\n    scrollbar: { size: 0, paddingStart: 0, paddingEnd: 0 }\n  });\n  const thumbRatio = getThumbRatio(sizes.viewport, sizes.content);\n  const commonProps = {\n    ...scrollbarProps,\n    sizes,\n    onSizesChange: setSizes,\n    hasThumb: Boolean(thumbRatio > 0 && thumbRatio < 1),\n    onThumbChange: (thumb) => thumbRef.current = thumb,\n    onThumbPointerUp: () => pointerOffsetRef.current = 0,\n    onThumbPointerDown: (pointerPos) => pointerOffsetRef.current = pointerPos\n  };\n  function getScrollPosition(pointerPos, dir) {\n    return getScrollPositionFromPointer(pointerPos, pointerOffsetRef.current, sizes, dir);\n  }\n  if (orientation === \"horizontal\") {\n    return /* @__PURE__ */ jsx(\n      ScrollAreaScrollbarX,\n      {\n        ...commonProps,\n        ref: forwardedRef,\n        onThumbPositionChange: () => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollLeft;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes, context.dir);\n            thumbRef.current.style.transform = `translate3d(${offset}px, 0, 0)`;\n          }\n        },\n        onWheelScroll: (scrollPos) => {\n          if (context.viewport) context.viewport.scrollLeft = scrollPos;\n        },\n        onDragScroll: (pointerPos) => {\n          if (context.viewport) {\n            context.viewport.scrollLeft = getScrollPosition(pointerPos, context.dir);\n          }\n        }\n      }\n    );\n  }\n  if (orientation === \"vertical\") {\n    return /* @__PURE__ */ jsx(\n      ScrollAreaScrollbarY,\n      {\n        ...commonProps,\n        ref: forwardedRef,\n        onThumbPositionChange: () => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollTop;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes);\n            thumbRef.current.style.transform = `translate3d(0, ${offset}px, 0)`;\n          }\n        },\n        onWheelScroll: (scrollPos) => {\n          if (context.viewport) context.viewport.scrollTop = scrollPos;\n        },\n        onDragScroll: (pointerPos) => {\n          if (context.viewport) context.viewport.scrollTop = getScrollPosition(pointerPos);\n        }\n      }\n    );\n  }\n  return null;\n});\nvar ScrollAreaScrollbarX = React2.forwardRef((props, forwardedRef) => {\n  const { sizes, onSizesChange, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [computedStyle, setComputedStyle] = React2.useState();\n  const ref = React2.useRef(null);\n  const composeRefs = useComposedRefs(forwardedRef, ref, context.onScrollbarXChange);\n  React2.useEffect(() => {\n    if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n  }, [ref]);\n  return /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarImpl,\n    {\n      \"data-orientation\": \"horizontal\",\n      ...scrollbarProps,\n      ref: composeRefs,\n      sizes,\n      style: {\n        bottom: 0,\n        left: context.dir === \"rtl\" ? \"var(--radix-scroll-area-corner-width)\" : 0,\n        right: context.dir === \"ltr\" ? \"var(--radix-scroll-area-corner-width)\" : 0,\n        [\"--radix-scroll-area-thumb-width\"]: getThumbSize(sizes) + \"px\",\n        ...props.style\n      },\n      onThumbPointerDown: (pointerPos) => props.onThumbPointerDown(pointerPos.x),\n      onDragScroll: (pointerPos) => props.onDragScroll(pointerPos.x),\n      onWheelScroll: (event, maxScrollPos) => {\n        if (context.viewport) {\n          const scrollPos = context.viewport.scrollLeft + event.deltaX;\n          props.onWheelScroll(scrollPos);\n          if (isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) {\n            event.preventDefault();\n          }\n        }\n      },\n      onResize: () => {\n        if (ref.current && context.viewport && computedStyle) {\n          onSizesChange({\n            content: context.viewport.scrollWidth,\n            viewport: context.viewport.offsetWidth,\n            scrollbar: {\n              size: ref.current.clientWidth,\n              paddingStart: toInt(computedStyle.paddingLeft),\n              paddingEnd: toInt(computedStyle.paddingRight)\n            }\n          });\n        }\n      }\n    }\n  );\n});\nvar ScrollAreaScrollbarY = React2.forwardRef((props, forwardedRef) => {\n  const { sizes, onSizesChange, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [computedStyle, setComputedStyle] = React2.useState();\n  const ref = React2.useRef(null);\n  const composeRefs = useComposedRefs(forwardedRef, ref, context.onScrollbarYChange);\n  React2.useEffect(() => {\n    if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n  }, [ref]);\n  return /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarImpl,\n    {\n      \"data-orientation\": \"vertical\",\n      ...scrollbarProps,\n      ref: composeRefs,\n      sizes,\n      style: {\n        top: 0,\n        right: context.dir === \"ltr\" ? 0 : void 0,\n        left: context.dir === \"rtl\" ? 0 : void 0,\n        bottom: \"var(--radix-scroll-area-corner-height)\",\n        [\"--radix-scroll-area-thumb-height\"]: getThumbSize(sizes) + \"px\",\n        ...props.style\n      },\n      onThumbPointerDown: (pointerPos) => props.onThumbPointerDown(pointerPos.y),\n      onDragScroll: (pointerPos) => props.onDragScroll(pointerPos.y),\n      onWheelScroll: (event, maxScrollPos) => {\n        if (context.viewport) {\n          const scrollPos = context.viewport.scrollTop + event.deltaY;\n          props.onWheelScroll(scrollPos);\n          if (isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) {\n            event.preventDefault();\n          }\n        }\n      },\n      onResize: () => {\n        if (ref.current && context.viewport && computedStyle) {\n          onSizesChange({\n            content: context.viewport.scrollHeight,\n            viewport: context.viewport.offsetHeight,\n            scrollbar: {\n              size: ref.current.clientHeight,\n              paddingStart: toInt(computedStyle.paddingTop),\n              paddingEnd: toInt(computedStyle.paddingBottom)\n            }\n          });\n        }\n      }\n    }\n  );\n});\nvar [ScrollbarProvider, useScrollbarContext] = createScrollAreaContext(SCROLLBAR_NAME);\nvar ScrollAreaScrollbarImpl = React2.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeScrollArea,\n    sizes,\n    hasThumb,\n    onThumbChange,\n    onThumbPointerUp,\n    onThumbPointerDown,\n    onThumbPositionChange,\n    onDragScroll,\n    onWheelScroll,\n    onResize,\n    ...scrollbarProps\n  } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, __scopeScrollArea);\n  const [scrollbar, setScrollbar] = React2.useState(null);\n  const composeRefs = useComposedRefs(forwardedRef, (node) => setScrollbar(node));\n  const rectRef = React2.useRef(null);\n  const prevWebkitUserSelectRef = React2.useRef(\"\");\n  const viewport = context.viewport;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const handleWheelScroll = useCallbackRef(onWheelScroll);\n  const handleThumbPositionChange = useCallbackRef(onThumbPositionChange);\n  const handleResize = useDebounceCallback(onResize, 10);\n  function handleDragScroll(event) {\n    if (rectRef.current) {\n      const x = event.clientX - rectRef.current.left;\n      const y = event.clientY - rectRef.current.top;\n      onDragScroll({ x, y });\n    }\n  }\n  React2.useEffect(() => {\n    const handleWheel = (event) => {\n      const element = event.target;\n      const isScrollbarWheel = scrollbar?.contains(element);\n      if (isScrollbarWheel) handleWheelScroll(event, maxScrollPos);\n    };\n    document.addEventListener(\"wheel\", handleWheel, { passive: false });\n    return () => document.removeEventListener(\"wheel\", handleWheel, { passive: false });\n  }, [viewport, scrollbar, maxScrollPos, handleWheelScroll]);\n  React2.useEffect(handleThumbPositionChange, [sizes, handleThumbPositionChange]);\n  useResizeObserver(scrollbar, handleResize);\n  useResizeObserver(context.content, handleResize);\n  return /* @__PURE__ */ jsx(\n    ScrollbarProvider,\n    {\n      scope: __scopeScrollArea,\n      scrollbar,\n      hasThumb,\n      onThumbChange: useCallbackRef(onThumbChange),\n      onThumbPointerUp: useCallbackRef(onThumbPointerUp),\n      onThumbPositionChange: handleThumbPositionChange,\n      onThumbPointerDown: useCallbackRef(onThumbPointerDown),\n      children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          ...scrollbarProps,\n          ref: composeRefs,\n          style: { position: \"absolute\", ...scrollbarProps.style },\n          onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n            const mainPointer = 0;\n            if (event.button === mainPointer) {\n              const element = event.target;\n              element.setPointerCapture(event.pointerId);\n              rectRef.current = scrollbar.getBoundingClientRect();\n              prevWebkitUserSelectRef.current = document.body.style.webkitUserSelect;\n              document.body.style.webkitUserSelect = \"none\";\n              if (context.viewport) context.viewport.style.scrollBehavior = \"auto\";\n              handleDragScroll(event);\n            }\n          }),\n          onPointerMove: composeEventHandlers(props.onPointerMove, handleDragScroll),\n          onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n            const element = event.target;\n            if (element.hasPointerCapture(event.pointerId)) {\n              element.releasePointerCapture(event.pointerId);\n            }\n            document.body.style.webkitUserSelect = prevWebkitUserSelectRef.current;\n            if (context.viewport) context.viewport.style.scrollBehavior = \"\";\n            rectRef.current = null;\n          })\n        }\n      )\n    }\n  );\n});\nvar THUMB_NAME = \"ScrollAreaThumb\";\nvar ScrollAreaThumb = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { forceMount, ...thumbProps } = props;\n    const scrollbarContext = useScrollbarContext(THUMB_NAME, props.__scopeScrollArea);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || scrollbarContext.hasThumb, children: /* @__PURE__ */ jsx(ScrollAreaThumbImpl, { ref: forwardedRef, ...thumbProps }) });\n  }\n);\nvar ScrollAreaThumbImpl = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeScrollArea, style, ...thumbProps } = props;\n    const scrollAreaContext = useScrollAreaContext(THUMB_NAME, __scopeScrollArea);\n    const scrollbarContext = useScrollbarContext(THUMB_NAME, __scopeScrollArea);\n    const { onThumbPositionChange } = scrollbarContext;\n    const composedRef = useComposedRefs(\n      forwardedRef,\n      (node) => scrollbarContext.onThumbChange(node)\n    );\n    const removeUnlinkedScrollListenerRef = React2.useRef(void 0);\n    const debounceScrollEnd = useDebounceCallback(() => {\n      if (removeUnlinkedScrollListenerRef.current) {\n        removeUnlinkedScrollListenerRef.current();\n        removeUnlinkedScrollListenerRef.current = void 0;\n      }\n    }, 100);\n    React2.useEffect(() => {\n      const viewport = scrollAreaContext.viewport;\n      if (viewport) {\n        const handleScroll = () => {\n          debounceScrollEnd();\n          if (!removeUnlinkedScrollListenerRef.current) {\n            const listener = addUnlinkedScrollListener(viewport, onThumbPositionChange);\n            removeUnlinkedScrollListenerRef.current = listener;\n            onThumbPositionChange();\n          }\n        };\n        onThumbPositionChange();\n        viewport.addEventListener(\"scroll\", handleScroll);\n        return () => viewport.removeEventListener(\"scroll\", handleScroll);\n      }\n    }, [scrollAreaContext.viewport, debounceScrollEnd, onThumbPositionChange]);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": scrollbarContext.hasThumb ? \"visible\" : \"hidden\",\n        ...thumbProps,\n        ref: composedRef,\n        style: {\n          width: \"var(--radix-scroll-area-thumb-width)\",\n          height: \"var(--radix-scroll-area-thumb-height)\",\n          ...style\n        },\n        onPointerDownCapture: composeEventHandlers(props.onPointerDownCapture, (event) => {\n          const thumb = event.target;\n          const thumbRect = thumb.getBoundingClientRect();\n          const x = event.clientX - thumbRect.left;\n          const y = event.clientY - thumbRect.top;\n          scrollbarContext.onThumbPointerDown({ x, y });\n        }),\n        onPointerUp: composeEventHandlers(props.onPointerUp, scrollbarContext.onThumbPointerUp)\n      }\n    );\n  }\n);\nScrollAreaThumb.displayName = THUMB_NAME;\nvar CORNER_NAME = \"ScrollAreaCorner\";\nvar ScrollAreaCorner = React2.forwardRef(\n  (props, forwardedRef) => {\n    const context = useScrollAreaContext(CORNER_NAME, props.__scopeScrollArea);\n    const hasBothScrollbarsVisible = Boolean(context.scrollbarX && context.scrollbarY);\n    const hasCorner = context.type !== \"scroll\" && hasBothScrollbarsVisible;\n    return hasCorner ? /* @__PURE__ */ jsx(ScrollAreaCornerImpl, { ...props, ref: forwardedRef }) : null;\n  }\n);\nScrollAreaCorner.displayName = CORNER_NAME;\nvar ScrollAreaCornerImpl = React2.forwardRef((props, forwardedRef) => {\n  const { __scopeScrollArea, ...cornerProps } = props;\n  const context = useScrollAreaContext(CORNER_NAME, __scopeScrollArea);\n  const [width, setWidth] = React2.useState(0);\n  const [height, setHeight] = React2.useState(0);\n  const hasSize = Boolean(width && height);\n  useResizeObserver(context.scrollbarX, () => {\n    const height2 = context.scrollbarX?.offsetHeight || 0;\n    context.onCornerHeightChange(height2);\n    setHeight(height2);\n  });\n  useResizeObserver(context.scrollbarY, () => {\n    const width2 = context.scrollbarY?.offsetWidth || 0;\n    context.onCornerWidthChange(width2);\n    setWidth(width2);\n  });\n  return hasSize ? /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      ...cornerProps,\n      ref: forwardedRef,\n      style: {\n        width,\n        height,\n        position: \"absolute\",\n        right: context.dir === \"ltr\" ? 0 : void 0,\n        left: context.dir === \"rtl\" ? 0 : void 0,\n        bottom: 0,\n        ...props.style\n      }\n    }\n  ) : null;\n});\nfunction toInt(value) {\n  return value ? parseInt(value, 10) : 0;\n}\nfunction getThumbRatio(viewportSize, contentSize) {\n  const ratio = viewportSize / contentSize;\n  return isNaN(ratio) ? 0 : ratio;\n}\nfunction getThumbSize(sizes) {\n  const ratio = getThumbRatio(sizes.viewport, sizes.content);\n  const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n  const thumbSize = (sizes.scrollbar.size - scrollbarPadding) * ratio;\n  return Math.max(thumbSize, 18);\n}\nfunction getScrollPositionFromPointer(pointerPos, pointerOffset, sizes, dir = \"ltr\") {\n  const thumbSizePx = getThumbSize(sizes);\n  const thumbCenter = thumbSizePx / 2;\n  const offset = pointerOffset || thumbCenter;\n  const thumbOffsetFromEnd = thumbSizePx - offset;\n  const minPointerPos = sizes.scrollbar.paddingStart + offset;\n  const maxPointerPos = sizes.scrollbar.size - sizes.scrollbar.paddingEnd - thumbOffsetFromEnd;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const scrollRange = dir === \"ltr\" ? [0, maxScrollPos] : [maxScrollPos * -1, 0];\n  const interpolate = linearScale([minPointerPos, maxPointerPos], scrollRange);\n  return interpolate(pointerPos);\n}\nfunction getThumbOffsetFromScroll(scrollPos, sizes, dir = \"ltr\") {\n  const thumbSizePx = getThumbSize(sizes);\n  const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n  const scrollbar = sizes.scrollbar.size - scrollbarPadding;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const maxThumbPos = scrollbar - thumbSizePx;\n  const scrollClampRange = dir === \"ltr\" ? [0, maxScrollPos] : [maxScrollPos * -1, 0];\n  const scrollWithoutMomentum = clamp(scrollPos, scrollClampRange);\n  const interpolate = linearScale([0, maxScrollPos], [0, maxThumbPos]);\n  return interpolate(scrollWithoutMomentum);\n}\nfunction linearScale(input, output) {\n  return (value) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\nfunction isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos) {\n  return scrollPos > 0 && scrollPos < maxScrollPos;\n}\nvar addUnlinkedScrollListener = (node, handler = () => {\n}) => {\n  let prevPosition = { left: node.scrollLeft, top: node.scrollTop };\n  let rAF = 0;\n  (function loop() {\n    const position = { left: node.scrollLeft, top: node.scrollTop };\n    const isHorizontalScroll = prevPosition.left !== position.left;\n    const isVerticalScroll = prevPosition.top !== position.top;\n    if (isHorizontalScroll || isVerticalScroll) handler();\n    prevPosition = position;\n    rAF = window.requestAnimationFrame(loop);\n  })();\n  return () => window.cancelAnimationFrame(rAF);\n};\nfunction useDebounceCallback(callback, delay) {\n  const handleCallback = useCallbackRef(callback);\n  const debounceTimerRef = React2.useRef(0);\n  React2.useEffect(() => () => window.clearTimeout(debounceTimerRef.current), []);\n  return React2.useCallback(() => {\n    window.clearTimeout(debounceTimerRef.current);\n    debounceTimerRef.current = window.setTimeout(handleCallback, delay);\n  }, [handleCallback, delay]);\n}\nfunction useResizeObserver(element, onResize) {\n  const handleResize = useCallbackRef(onResize);\n  useLayoutEffect(() => {\n    let rAF = 0;\n    if (element) {\n      const resizeObserver = new ResizeObserver(() => {\n        cancelAnimationFrame(rAF);\n        rAF = window.requestAnimationFrame(handleResize);\n      });\n      resizeObserver.observe(element);\n      return () => {\n        window.cancelAnimationFrame(rAF);\n        resizeObserver.unobserve(element);\n      };\n    }\n  }, [element, handleResize]);\n}\nvar Root = ScrollArea;\nvar Viewport = ScrollAreaViewport;\nvar Scrollbar = ScrollAreaScrollbar;\nvar Thumb = ScrollAreaThumb;\nvar Corner = ScrollAreaCorner;\nexport {\n  Corner,\n  Root,\n  ScrollArea,\n  ScrollAreaCorner,\n  ScrollAreaScrollbar,\n  ScrollAreaThumb,\n  ScrollAreaViewport,\n  Scrollbar,\n  Thumb,\n  Viewport,\n  createScrollAreaScope\n};\n//# sourceMappingURL=index.mjs.map\n","/* Scroll Area Component primitives - A component that displays a scroll area - from shadcn/ui (exposes ScrollArea, ScrollBar) */\nimport * as React from 'react'\nimport * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area'\n\nimport { cn } from '@/lib/utils'\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn('relative overflow-hidden', className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = 'vertical', ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      'flex touch-none select-none transition-colors',\n      orientation === 'vertical' &&\n        'h-full w-2.5 border-l border-l-transparent p-[1px]',\n      orientation === 'horizontal' &&\n        'h-2.5 flex-col border-t border-t-transparent p-[1px]',\n      className,\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","import { useState } from 'react'\nimport useDocumentStore from '@/stores/useDocumentStore'\nimport useFolderStore from '@/stores/useFolderStore'\nimport useQuickActionStore from '@/stores/useQuickActionStore'\nimport RichTextEditor from '@/components/editor/RichTextEditor'\nimport { Button } from '@/components/ui/button'\nimport {\n  FileText,\n  Plus,\n  Folder as FolderIcon,\n  ChevronRight,\n  ChevronDown,\n  FolderPlus,\n  PanelLeftClose,\n  PanelLeft,\n  Search,\n} from 'lucide-react'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogDescription,\n} from '@/components/ui/dialog'\nimport { Input } from '@/components/ui/input'\nimport { cn } from '@/lib/utils'\nimport { generateId } from '@/lib/generateId'\n\nexport default function Documents() {\n  const [docs, setDocs] = useDocumentStore()\n  const [folders, setFolders] = useFolderStore()\n  const [, setAction] = useQuickActionStore()\n  const [activeId, setActiveId] = useState(docs[0]?.id)\n  const [newFolderOpen, setNewFolderOpen] = useState(false)\n  const [newFolderName, setNewFolderName] = useState('')\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false)\n  const [search, setSearch] = useState('')\n\n  const activeDoc = docs.find((d) => d.id === activeId)\n\n  const filteredDocs = search\n    ? docs.filter((d) => d.title.toLowerCase().includes(search.toLowerCase()))\n    : docs\n  const filteredFolders = search\n    ? folders.filter((f) => f.name.toLowerCase().includes(search.toLowerCase()))\n    : folders\n\n  const createDoc = () => {\n    setAction({ type: 'document', mode: 'create' })\n  }\n\n  const createFolder = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!newFolderName.trim()) return\n    const newFolder = {\n      id: generateId('f'),\n      projectId: 'p1',\n      module: 'project' as const,\n      name: newFolderName,\n      parentId: null,\n      createdAt: new Date().toISOString(),\n      isExpanded: true,\n    }\n    setFolders([...folders, newFolder])\n    setNewFolderName('')\n    setNewFolderOpen(false)\n  }\n\n  const toggleFolder = (id: string) => {\n    setFolders(\n      folders.map((f) =>\n        f.id === id ? { ...f, isExpanded: !f.isExpanded } : f,\n      ),\n    )\n  }\n\n  const onDragStart = (e: React.DragEvent, type: string, id: string) => {\n    e.dataTransfer.setData('type', type)\n    e.dataTransfer.setData('id', id)\n  }\n\n  const onDrop = (e: React.DragEvent, targetFolderId: string | null) => {\n    e.preventDefault()\n    e.stopPropagation()\n    const type = e.dataTransfer.getData('type')\n    const id = e.dataTransfer.getData('id')\n\n    if (type === 'document') {\n      setDocs(\n        docs.map((d) => (d.id === id ? { ...d, folderId: targetFolderId } : d)),\n      )\n    } else if (type === 'folder') {\n      if (id === targetFolderId) return\n      let currentParent = targetFolderId\n      let isDescendant = false\n      while (currentParent) {\n        if (currentParent === id) {\n          isDescendant = true\n          break\n        }\n        const parentFolder = folders.find((f) => f.id === currentParent)\n        currentParent = parentFolder ? parentFolder.parentId : null\n      }\n      if (!isDescendant) {\n        setFolders(\n          folders.map((f) =>\n            f.id === id ? { ...f, parentId: targetFolderId } : f,\n          ),\n        )\n      }\n    }\n  }\n\n  const onDragOver = (e: React.DragEvent) => {\n    e.preventDefault()\n  }\n\n  const renderTree = (parentId: string | null, level = 0) => {\n    const childFolders = filteredFolders.filter((f) => f.parentId === parentId)\n    const childDocs = filteredDocs.filter((d) => d.folderId === parentId)\n\n    return (\n      <div className=\"flex flex-col gap-1 mt-1\">\n        {childFolders.map((folder) => (\n          <div key={folder.id} className=\"flex flex-col\">\n            <div\n              draggable\n              onDragStart={(e) => onDragStart(e, 'folder', folder.id)}\n              onDrop={(e) => onDrop(e, folder.id)}\n              onDragOver={onDragOver}\n              className=\"group flex items-center gap-2 py-2 pr-3 rounded-lg text-md transition-colors cursor-pointer hover:bg-muted text-foreground select-none\"\n              style={{ paddingLeft: `${level * 16 + 12}px` }}\n            >\n              <button\n                onClick={(e) => {\n                  e.stopPropagation()\n                  toggleFolder(folder.id)\n                }}\n                className=\"p-1 hover:bg-border rounded-md text-muted-foreground shrink-0 transition-colors\"\n              >\n                {folder.isExpanded ? (\n                  <ChevronDown size={14} />\n                ) : (\n                  <ChevronRight size={14} />\n                )}\n              </button>\n              <FolderIcon\n                size={16}\n                className=\"text-muted-foreground fill-muted-foreground/20 shrink-0\"\n              />\n              <span className=\"truncate flex-1 font-semibold text-sm\">\n                {folder.name}\n              </span>\n            </div>\n            {folder.isExpanded && renderTree(folder.id, level + 1)}\n          </div>\n        ))}\n        {childDocs.map((doc) => (\n          <button\n            key={doc.id}\n            draggable\n            onDragStart={(e) => onDragStart(e, 'document', doc.id)}\n            onClick={() => setActiveId(doc.id)}\n            className={cn(\n              'flex items-center gap-3 py-2 pr-3 rounded-lg text-base transition-colors w-full text-left cursor-grab active:cursor-grabbing select-none font-medium',\n              activeId === doc.id\n                ? 'bg-primary/10 text-primary'\n                : 'text-slate-600 hover:bg-slate-100 hover:text-slate-900',\n            )}\n            style={{\n              paddingLeft: `${level * 16 + (parentId === null ? 12 : 36)}px`,\n            }}\n          >\n            <FileText\n              size={16}\n              className={`shrink-0 ${activeId === doc.id ? 'text-primary' : 'text-slate-400'}`}\n            />\n            <span className=\"truncate flex-1 text-sm\">{doc.title}</span>\n          </button>\n        ))}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex h-full bg-background overflow-hidden animate-fade-in\">\n      <div\n        className={cn(\n          'border-r border-border bg-card flex flex-col shrink-0 z-10 shadow-sm transition-all duration-200 ease-in-out',\n          isSidebarOpen ? 'w-72' : 'w-[56px]',\n        )}\n      >\n        <div\n          className={cn(\n            'border-b border-border flex flex-col transition-all duration-200 ease-in-out',\n            isSidebarOpen ? 'p-4 gap-3' : 'py-3 px-0 items-center gap-3',\n          )}\n        >\n          {isSidebarOpen ? (\n            <>\n              <div className=\"flex items-center w-full justify-between\">\n                <span className=\"font-semibold text-sm text-foreground px-2\">\n                  Pastas\n                </span>\n                <button\n                  onClick={() => setIsSidebarOpen(false)}\n                  className=\"h-8 w-8 flex items-center justify-center text-muted-foreground hover:bg-muted hover:text-foreground shrink-0 rounded-lg transition-colors cursor-pointer outline-none\"\n                  title=\"Minimizar menu\"\n                >\n                  <PanelLeftClose size={16} />\n                </button>\n              </div>\n              <div className=\"flex flex-col gap-2 w-full animate-fade-in\">\n                <Button\n                  className=\"w-full justify-start shadow-sm font-semibold text-sm\"\n                  onClick={createDoc}\n                >\n                  <Plus size={16} className=\"mr-2\" /> Novo Documento\n                </Button>\n                <Dialog open={newFolderOpen} onOpenChange={setNewFolderOpen}>\n                  <DialogTrigger asChild>\n                    <Button\n                      variant=\"outline\"\n                      className=\"w-full justify-start text-muted-foreground hover:text-foreground shadow-sm bg-background border-border text-sm\"\n                    >\n                      <FolderPlus size={16} className=\"mr-2\" /> Nova Pasta\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent>\n                    <DialogHeader>\n                      <DialogTitle>Criar Nova Pasta</DialogTitle>\n                      <DialogDescription className=\"sr-only\">\n                        Insira o nome da nova pasta.\n                      </DialogDescription>\n                    </DialogHeader>\n                    <form onSubmit={createFolder} className=\"space-y-4 pt-6\">\n                      <Input\n                        placeholder=\"Nome da Pasta\"\n                        value={newFolderName}\n                        onChange={(e) => setNewFolderName(e.target.value)}\n                        autoFocus\n                      />\n                      <Button type=\"submit\" className=\"w-full\">\n                        Criar Pasta\n                      </Button>\n                    </form>\n                  </DialogContent>\n                </Dialog>\n              </div>\n            </>\n          ) : (\n            <>\n              <button\n                onClick={() => setIsSidebarOpen(true)}\n                className=\"h-8 w-8 flex items-center justify-center text-muted-foreground hover:bg-muted hover:text-foreground shrink-0 rounded-lg transition-colors cursor-pointer outline-none\"\n                title=\"Expandir menu\"\n              >\n                <PanelLeft size={20} />\n              </button>\n              <Button\n                size=\"icon\"\n                variant=\"default\"\n                className=\"h-10 w-10 shrink-0 shadow-sm rounded-xl\"\n                onClick={createDoc}\n                title=\"Novo Documento\"\n              >\n                <Plus size={18} />\n              </Button>\n              <button\n                onClick={() => setIsSidebarOpen(true)}\n                className=\"h-10 w-10 rounded-xl bg-muted/50 hover:bg-muted flex items-center justify-center text-muted-foreground hover:text-foreground shrink-0 transition-colors cursor-pointer outline-none\"\n                title=\"Ver Pastas\"\n              >\n                <FolderIcon size={20} className=\"opacity-50\" />\n              </button>\n            </>\n          )}\n        </div>\n\n        {isSidebarOpen && (\n          <div className=\"px-3 pb-1 pt-3\">\n            <div className=\"relative\">\n              <Search\n                className=\"absolute left-2.5 top-1/2 -translate-y-1/2 text-muted-foreground\"\n                size={14}\n              />\n              <Input\n                placeholder=\"Buscar docs...\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className=\"pl-8 h-8 text-sm bg-background\"\n              />\n            </div>\n          </div>\n        )}\n\n        {isSidebarOpen && (\n          <ScrollArea\n            className=\"flex-1 animate-fade-in\"\n            onDrop={(e) => onDrop(e, null)}\n            onDragOver={onDragOver}\n          >\n            <div className=\"p-3 min-h-full\">{renderTree(null)}</div>\n          </ScrollArea>\n        )}\n      </div>\n      <div className=\"flex-1 overflow-hidden bg-[#f8fafc]\">\n        {activeDoc ? (\n          <RichTextEditor\n            doc={activeDoc}\n            onTitleChange={(title) =>\n              setDocs(\n                docs.map((d) => (d.id === activeDoc.id ? { ...d, title } : d)),\n              )\n            }\n            onProjectChange={(projectId) =>\n              setDocs(\n                docs.map((d) =>\n                  d.id === activeDoc.id ? { ...d, projectId } : d,\n                ),\n              )\n            }\n            onChange={(content) =>\n              setDocs(\n                docs.map((d) =>\n                  d.id === activeDoc.id ? { ...d, content } : d,\n                ),\n              )\n            }\n          />\n        ) : (\n          <div className=\"flex items-center justify-center h-full text-muted-foreground flex-col gap-4 max-w-lg mx-auto min-h-[400px]\">\n            <div className=\"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center text-primary mb-2\">\n              <FileText size={24} />\n            </div>\n            <h3 className=\"text-xl font-bold text-foreground\">Documentos</h3>\n            <span className=\"text-base text-center\">\n              Selecione um documento na barra lateral ou crie um novo.\n            </span>\n            <Button onClick={createDoc} className=\"mt-2 font-semibold\">\n              <Plus size={16} className=\"mr-2\" /> Novo Documento\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,13],"mappings":"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"}