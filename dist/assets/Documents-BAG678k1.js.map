{"version":3,"file":"Documents-BAG678k1.js","names":["__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","__iconNode","Table","extracted: { id: string; text: string; level: number }[]","items: Array<{\n      id: string\n      type: 'folder' | 'doc'\n      name: string\n      date: string\n      raw: any\n    }>","aVal: any","bVal: any"],"sources":["../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/arrow-down-from-line.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/arrow-left-from-line.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/arrow-right-from-line.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/arrow-up-from-line.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/bold.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/grip-vertical.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/heading-1.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/heading-2.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/italic.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/quote.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/separator-horizontal.js","../../../../cache/modules/funil-os-copy-copy-b831e/node_modules/.pnpm/lucide-react@0.575.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/table.js","../../src/components/editor/RichTextEditor.tsx","../../src/pages/Documents.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M19 3H5\", key: \"1236rx\" }],\n  [\"path\", { d: \"M12 21V7\", key: \"gj6g52\" }],\n  [\"path\", { d: \"m6 15 6 6 6-6\", key: \"h15q88\" }]\n];\nconst ArrowDownFromLine = createLucideIcon(\"arrow-down-from-line\", __iconNode);\n\nexport { __iconNode, ArrowDownFromLine as default };\n//# sourceMappingURL=arrow-down-from-line.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m9 6-6 6 6 6\", key: \"7v63n9\" }],\n  [\"path\", { d: \"M3 12h14\", key: \"13k4hi\" }],\n  [\"path\", { d: \"M21 19V5\", key: \"b4bplr\" }]\n];\nconst ArrowLeftFromLine = createLucideIcon(\"arrow-left-from-line\", __iconNode);\n\nexport { __iconNode, ArrowLeftFromLine as default };\n//# sourceMappingURL=arrow-left-from-line.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 5v14\", key: \"1nt18q\" }],\n  [\"path\", { d: \"M21 12H7\", key: \"13ipq5\" }],\n  [\"path\", { d: \"m15 18 6-6-6-6\", key: \"6tx3qv\" }]\n];\nconst ArrowRightFromLine = createLucideIcon(\"arrow-right-from-line\", __iconNode);\n\nexport { __iconNode, ArrowRightFromLine as default };\n//# sourceMappingURL=arrow-right-from-line.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m18 9-6-6-6 6\", key: \"kcunyi\" }],\n  [\"path\", { d: \"M12 3v14\", key: \"7cf3v8\" }],\n  [\"path\", { d: \"M5 21h14\", key: \"11awu3\" }]\n];\nconst ArrowUpFromLine = createLucideIcon(\"arrow-up-from-line\", __iconNode);\n\nexport { __iconNode, ArrowUpFromLine as default };\n//# sourceMappingURL=arrow-up-from-line.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8\", key: \"mg9rjx\" }\n  ]\n];\nconst Bold = createLucideIcon(\"bold\", __iconNode);\n\nexport { __iconNode, Bold as default };\n//# sourceMappingURL=bold.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"9\", cy: \"12\", r: \"1\", key: \"1vctgf\" }],\n  [\"circle\", { cx: \"9\", cy: \"5\", r: \"1\", key: \"hp0tcf\" }],\n  [\"circle\", { cx: \"9\", cy: \"19\", r: \"1\", key: \"fkjjf6\" }],\n  [\"circle\", { cx: \"15\", cy: \"12\", r: \"1\", key: \"1tmaij\" }],\n  [\"circle\", { cx: \"15\", cy: \"5\", r: \"1\", key: \"19l28e\" }],\n  [\"circle\", { cx: \"15\", cy: \"19\", r: \"1\", key: \"f4zoj3\" }]\n];\nconst GripVertical = createLucideIcon(\"grip-vertical\", __iconNode);\n\nexport { __iconNode, GripVertical as default };\n//# sourceMappingURL=grip-vertical.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M4 12h8\", key: \"17cfdx\" }],\n  [\"path\", { d: \"M4 18V6\", key: \"1rz3zl\" }],\n  [\"path\", { d: \"M12 18V6\", key: \"zqpxq5\" }],\n  [\"path\", { d: \"m17 12 3-2v8\", key: \"1hhhft\" }]\n];\nconst Heading1 = createLucideIcon(\"heading-1\", __iconNode);\n\nexport { __iconNode, Heading1 as default };\n//# sourceMappingURL=heading-1.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M4 12h8\", key: \"17cfdx\" }],\n  [\"path\", { d: \"M4 18V6\", key: \"1rz3zl\" }],\n  [\"path\", { d: \"M12 18V6\", key: \"zqpxq5\" }],\n  [\"path\", { d: \"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1\", key: \"9jr5yi\" }]\n];\nconst Heading2 = createLucideIcon(\"heading-2\", __iconNode);\n\nexport { __iconNode, Heading2 as default };\n//# sourceMappingURL=heading-2.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"19\", x2: \"10\", y1: \"4\", y2: \"4\", key: \"15jd3p\" }],\n  [\"line\", { x1: \"14\", x2: \"5\", y1: \"20\", y2: \"20\", key: \"bu0au3\" }],\n  [\"line\", { x1: \"15\", x2: \"9\", y1: \"4\", y2: \"20\", key: \"uljnxc\" }]\n];\nconst Italic = createLucideIcon(\"italic\", __iconNode);\n\nexport { __iconNode, Italic as default };\n//# sourceMappingURL=italic.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\",\n      key: \"rib7q0\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\",\n      key: \"1ymkrd\"\n    }\n  ]\n];\nconst Quote = createLucideIcon(\"quote\", __iconNode);\n\nexport { __iconNode, Quote as default };\n//# sourceMappingURL=quote.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m16 16-4 4-4-4\", key: \"3dv8je\" }],\n  [\"path\", { d: \"M3 12h18\", key: \"1i2n21\" }],\n  [\"path\", { d: \"m8 8 4-4 4 4\", key: \"2bscm2\" }]\n];\nconst SeparatorHorizontal = createLucideIcon(\"separator-horizontal\", __iconNode);\n\nexport { __iconNode, SeparatorHorizontal as default };\n//# sourceMappingURL=separator-horizontal.js.map\n","/**\n * @license lucide-react v0.575.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 3v18\", key: \"108xh3\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M3 15h18\", key: \"5xshup\" }]\n];\nconst Table = createLucideIcon(\"table\", __iconNode);\n\nexport { __iconNode, Table as default };\n//# sourceMappingURL=table.js.map\n","import { useRef, useEffect, useState, useCallback } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { Document, Funnel } from '@/types'\nimport { Button } from '@/components/ui/button'\nimport {\n  Bold,\n  Italic,\n  List,\n  Heading1,\n  Heading2,\n  Quote,\n  SeparatorHorizontal,\n  Image as ImageIcon,\n  Network,\n  X,\n  GripVertical,\n  PanelLeftClose,\n  PanelLeft,\n  Table,\n  Plus,\n  Trash2,\n  ArrowRightFromLine,\n  ArrowLeftFromLine,\n  ArrowDownFromLine,\n  ArrowUpFromLine,\n  ExternalLink,\n  Download,\n} from 'lucide-react'\nimport { Separator } from '@/components/ui/separator'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogDescription,\n} from '@/components/ui/dialog'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport useFunnelStore from '@/stores/useFunnelStore'\nimport useProjectStore from '@/stores/useProjectStore'\nimport CanvasBoard from '@/components/canvas/CanvasBoard'\nimport { cn } from '@/lib/utils'\n\nconst getCanvasPreviewInnerHtml = (canvas: Funnel) => {\n  const nodes = canvas.nodes\n  const edges = canvas.edges\n\n  let minX = Infinity,\n    maxX = -Infinity,\n    minY = Infinity,\n    maxY = -Infinity\n  nodes.forEach((n) => {\n    if (n.x < minX) minX = n.x\n    if (n.x + 280 > maxX) maxX = n.x + 280\n    if (n.y < minY) minY = n.y\n    if (n.y + 74 > maxY) maxY = n.y + 74\n  })\n\n  const containerWidth = 600\n  const containerHeight = 240\n\n  if (nodes.length === 0) {\n    minX = 0\n    maxX = containerWidth\n    minY = 0\n    maxY = containerHeight\n  }\n\n  const padding = 24\n  const contentWidth = maxX - minX || containerWidth\n  const contentHeight = maxY - minY || containerHeight\n\n  const scale = Math.min(\n    (containerWidth - padding * 2) / contentWidth,\n    (containerHeight - padding * 2) / contentHeight,\n    1,\n  )\n\n  const xOffset = (containerWidth - contentWidth * scale) / 2 - minX * scale\n  const yOffset = (containerHeight - contentHeight * scale) / 2 - minY * scale\n\n  const nodesHtml = nodes\n    .map((n) => {\n      const left = n.x * scale + xOffset\n      const top = n.y * scale + yOffset\n      const width = 280 * scale\n      const height = 74 * scale\n      return `<div style=\"position: absolute; left: ${left}px; top: ${top}px; width: ${width}px; height: ${height}px; background: hsl(var(--card)); border: 1px solid hsl(var(--border)); border-radius: ${8 * scale}px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); display: flex; align-items: center; padding: ${8 * scale}px; box-sizing: border-box; overflow: hidden; pointer-events: none;\">\n      <div style=\"flex-shrink: 0; width: ${24 * scale}px; height: ${24 * scale}px; background: hsl(var(--muted)); border-radius: ${6 * scale}px; margin-right: ${10 * scale}px; border: 1px solid hsl(var(--border)); display: flex; align-items: center; justify-content: center; color: hsl(var(--muted-foreground));\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${14 * scale}\" height=\"${14 * scale}\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect width=\"18\" height=\"18\" x=\"3\" y=\"3\" rx=\"2\" ry=\"2\"/></svg>\n      </div>\n      <div style=\"min-width: 0; flex: 1;\">\n         <div style=\"font-size: ${12 * scale}px; font-weight: 600; color: hsl(var(--foreground)); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.2;\">${n.data.name}</div>\n         <div style=\"font-size: ${10 * scale}px; color: hsl(var(--muted-foreground)); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-top: ${2 * scale}px;\">${n.data.subtitle || 'Configure this step'}</div>\n      </div>\n    </div>`\n    })\n    .join('')\n\n  const edgesHtml = edges\n    .map((e) => {\n      const sourceNode = nodes.find((n) => n.id === e.source)\n      const targetNode = nodes.find((n) => n.id === e.target)\n      if (!sourceNode || !targetNode) return ''\n\n      const startX = (sourceNode.x + 280) * scale + xOffset\n      const startY = (sourceNode.y + 37) * scale + yOffset\n      const endX = targetNode.x * scale + xOffset\n      const endY = (targetNode.y + 37) * scale + yOffset\n\n      const d = `M ${startX} ${startY} C ${startX + 30 * scale} ${startY}, ${endX - 30 * scale} ${endY}, ${endX} ${endY}`\n\n      return `<path d=\"${d}\" stroke=\"hsl(var(--border))\" stroke-width=\"${2 * scale}\" fill=\"none\" pointer-events=\"none\" />`\n    })\n    .join('')\n\n  const isEmpty = nodes.length === 0\n  const emptyStateHtml = isEmpty\n    ? `\n    <div style=\"position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; color: hsl(var(--muted-foreground)); pointer-events: none;\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" style=\"margin-bottom: 8px; opacity: 0.5;\"><rect width=\"18\" height=\"18\" x=\"3\" y=\"3\" rx=\"2\" ry=\"2\"/><path d=\"M9 17V7h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2z\"/></svg>\n      <span style=\"font-size: 13px; font-weight: 500;\">Canvas vazio</span>\n    </div>\n  `\n    : ''\n\n  return `\n    <h4 style=\"margin: 0 0 12px 0; font-size: 16px; font-weight: 700; color: hsl(var(--foreground)); font-family: inherit; line-height: 1; pointer-events: none;\">${canvas.name}</h4>\n    <div class=\"border border-border bg-muted/20 rounded-xl overflow-hidden shadow-sm cursor-pointer transition-all hover:border-primary/40 hover:shadow-md ring-offset-background hover:ring-1 hover:ring-primary/20\" style=\"width: 100%; max-width: 600px; height: ${containerHeight}px; position: relative;\">\n      <div style=\"position: absolute; inset: 0; background-image: radial-gradient(hsl(var(--border)) 1px, transparent 0); background-size: 16px 16px; opacity: 0.4; pointer-events: none;\"></div>\n      ${emptyStateHtml}\n      <svg style=\"position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none;\">\n        ${edgesHtml}\n      </svg>\n      ${nodesHtml}\n      <div class=\"absolute inset-0 flex items-center justify-center gap-3 bg-background/60 backdrop-blur-[2px] opacity-0 transition-opacity duration-200 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto\">\n         <div data-action=\"preview\" class=\"bg-card px-4 py-2 rounded-xl shadow-lg text-sm font-semibold text-foreground flex items-center gap-2 transform translate-y-2 transition-all hover:bg-muted border border-border cursor-pointer pointer-events-auto group-hover:translate-y-0\">\n           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 20h9\"/><path d=\"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z\"/></svg>\n           Visualizar Lateral\n         </div>\n         <div data-action=\"navigate\" class=\"bg-primary px-4 py-2 rounded-xl shadow-lg text-sm font-semibold text-primary-foreground flex items-center gap-2 transform translate-y-2 transition-all hover:brightness-110 border border-primary cursor-pointer pointer-events-auto group-hover:translate-y-0\">\n           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6\"/><path d=\"m21 3-9 9\"/><path d=\"M15 3h6v6\"/></svg>\n           Ir até o Canvas\n         </div>\n      </div>\n    </div>\n  `\n}\n\nexport default function RichTextEditor({\n  doc,\n  onChange,\n  onTitleChange,\n  onProjectChange,\n}: {\n  doc: Document\n  onChange: (c: string) => void\n  onTitleChange: (t: string) => void\n  onProjectChange: (p: string | null) => void\n}) {\n  const navigate = useNavigate()\n  const editorRef = useRef<HTMLDivElement>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n  const [funnels, setFunnels] = useFunnelStore()\n  const [projects] = useProjectStore()\n  const [canvasModalOpen, setCanvasModalOpen] = useState(false)\n  const [selectedCanvasId, setSelectedCanvasId] = useState<string | null>(null)\n  const [imageModalOpen, setImageModalOpen] = useState(false)\n  const [imageUrl, setImageUrl] = useState('')\n  const [savedRange, setSavedRange] = useState<Range | null>(null)\n  const [editingCanvasId, setEditingCanvasId] = useState<string | null>(null)\n  const [isOutlineOpen, setIsOutlineOpen] = useState(false)\n  const [activeTableNode, setActiveTableNode] =\n    useState<HTMLTableElement | null>(null)\n  const [activeTableCell, setActiveTableCell] =\n    useState<HTMLTableCellElement | null>(null)\n\n  // Header outline state\n  const [headers, setHeaders] = useState<\n    { id: string; text: string; level: number }[]\n  >([])\n\n  const extractHeaders = useCallback(() => {\n    if (!editorRef.current) return\n    const headerElements = editorRef.current.querySelectorAll(\n      'h1, h2, h3, h4, h5, h6',\n    )\n    const extracted: { id: string; text: string; level: number }[] = []\n\n    headerElements.forEach((el, index) => {\n      // Ensure element has an ID for anchoring\n      if (!el.id) {\n        el.id = `header-${index}-${Date.now()}`\n      }\n      extracted.push({\n        id: el.id,\n        text: el.textContent || 'Sem Título',\n        level: parseInt(el.tagName.replace('H', ''), 10),\n      })\n    })\n\n    setHeaders(extracted)\n  }, [])\n\n  const [panelWidth, setPanelWidth] = useState(() => {\n    if (typeof window !== 'undefined') {\n      if (window.innerWidth >= 1280) return 600\n      if (window.innerWidth >= 1024) return 500\n      return 450\n    }\n    return 500\n  })\n  const [isResizing, setIsResizing] = useState(false)\n  const isResizingRef = useRef(false)\n\n  useEffect(() => {\n    if (editorRef.current && editorRef.current.innerHTML !== doc.content) {\n      editorRef.current.innerHTML = doc.content\n\n      let hasChanges = false\n      const blocks = editorRef.current.querySelectorAll('.canvas-preview-block')\n      blocks.forEach((block) => {\n        const canvasId = block.getAttribute('data-canvas-id')\n        if (canvasId) {\n          const canvas = funnels.find((f) => f.id === canvasId)\n          if (canvas) {\n            block.setAttribute(\n              'style',\n              'margin: 32px 0; user-select: none; display: flex; flex-direction: column; align-items: flex-start;',\n            )\n            const newInnerHtml = getCanvasPreviewInnerHtml(canvas)\n            if (block.innerHTML !== newInnerHtml) {\n              block.innerHTML = newInnerHtml\n              hasChanges = true\n            }\n          }\n        }\n      })\n\n      if (hasChanges) {\n        onChange(editorRef.current.innerHTML)\n      }\n      extractHeaders()\n    }\n  }, [doc.id, doc.content])\n\n  const saveSelection = useCallback(() => {\n    const selection = window.getSelection()\n    if (selection && selection.rangeCount > 0) {\n      const range = selection.getRangeAt(0)\n      if (\n        editorRef.current &&\n        editorRef.current.contains(range.commonAncestorContainer)\n      ) {\n        setSavedRange(range.cloneRange())\n\n        // Check for active table cell\n        let node = range.commonAncestorContainer as Node | null\n        if (node?.nodeType === Node.TEXT_NODE) {\n          node = node.parentNode\n        }\n\n        const cell = (node as Element)?.closest?.(\n          'td, th',\n        ) as HTMLTableCellElement | null\n        const table = (node as Element)?.closest?.(\n          'table',\n        ) as HTMLTableElement | null\n\n        setActiveTableCell(cell)\n        setActiveTableNode(table)\n      } else {\n        setActiveTableCell(null)\n        setActiveTableNode(null)\n      }\n    }\n  }, [])\n\n  const restoreSelection = useCallback(() => {\n    editorRef.current?.focus()\n    if (savedRange) {\n      const selection = window.getSelection()\n      if (selection) {\n        selection.removeAllRanges()\n        selection.addRange(savedRange)\n      }\n    } else {\n      if (editorRef.current) {\n        const range = document.createRange()\n        range.selectNodeContents(editorRef.current)\n        range.collapse(false)\n        const selection = window.getSelection()\n        if (selection) {\n          selection.removeAllRanges()\n          selection.addRange(range)\n        }\n      }\n    }\n  }, [savedRange])\n\n  const insertHtmlAtSelection = (htmlString: string) => {\n    restoreSelection()\n\n    let success = false\n    try {\n      success = document.execCommand('insertHTML', false, htmlString)\n    } catch (e) {\n      success = false\n    }\n\n    if (!success) {\n      const selection = window.getSelection()\n      if (selection && selection.rangeCount > 0) {\n        const range = selection.getRangeAt(0)\n        range.deleteContents()\n\n        const el = document.createElement('div')\n        el.innerHTML = htmlString\n\n        const frag = document.createDocumentFragment()\n        let node, lastNode\n        while ((node = el.firstChild)) {\n          lastNode = frag.appendChild(node)\n        }\n\n        range.insertNode(frag)\n\n        if (lastNode) {\n          range.setStartAfter(lastNode)\n          range.collapse(true)\n          selection.removeAllRanges()\n          selection.addRange(range)\n        }\n      }\n    }\n\n    if (editorRef.current) {\n      onChange(editorRef.current.innerHTML)\n    }\n  }\n\n  const exec = (cmd: string, val?: string) => {\n    document.execCommand(cmd, false, val)\n    editorRef.current?.focus()\n    if (editorRef.current) {\n      onChange(editorRef.current.innerHTML)\n    }\n  }\n\n  const insertImage = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!imageUrl.trim()) return\n    insertHtmlAtSelection(\n      `<img src=\"${imageUrl}\" alt=\"Imagem Inserida\" style=\"max-width: 100%; border-radius: 8px; margin: 16px 0;\" /><p><br></p>`,\n    )\n    setImageUrl('')\n    setImageModalOpen(false)\n  }\n\n  const insertCanvas = () => {\n    if (!selectedCanvasId) return\n    const canvas = funnels.find((f) => f.id === selectedCanvasId)\n    if (!canvas) return\n\n    const html = `\n      <div contenteditable=\"false\" class=\"canvas-preview-block group\" data-canvas-id=\"${canvas.id}\" style=\"margin: 32px 0; user-select: none; display: flex; flex-direction: column; align-items: flex-start;\">\n        ${getCanvasPreviewInnerHtml(canvas)}\n      </div>\n      <p><br></p>\n    `\n\n    insertHtmlAtSelection(html)\n\n    setCanvasModalOpen(false)\n    setSelectedCanvasId(null)\n  }\n\n  const handleToolbarMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault()\n  }\n\n  const handleEditorClick = (e: React.MouseEvent) => {\n    const target = e.target as HTMLElement\n\n    // Canvas Preview clicks\n    const canvasBlock = target.closest('.canvas-preview-block')\n    if (canvasBlock) {\n      e.preventDefault()\n      const canvasId = canvasBlock.getAttribute('data-canvas-id')\n      if (canvasId) {\n        const actionBtn = target.closest('[data-action]')\n        const action = actionBtn?.getAttribute('data-action')\n\n        if (action === 'navigate') {\n          navigate(`/canvas/${canvasId}`)\n        } else {\n          setEditingCanvasId(canvasId)\n        }\n      }\n    }\n\n    // Check table selection immediately on click\n    let node = target as Element | null\n    const cell = node?.closest?.('td, th') as HTMLTableCellElement | null\n    const table = node?.closest?.('table') as HTMLTableElement | null\n    setActiveTableCell(cell)\n    setActiveTableNode(table)\n  }\n\n  // Table Operations\n  const insertTable = () => {\n    const tableHtml = `\n      <table class=\"w-full border-collapse border border-border my-4 shadow-sm rounded-lg overflow-hidden bg-card text-sm\">\n        <thead>\n          <tr class=\"bg-muted/50 border-b border-border\">\n            <th class=\"border border-border p-3 text-left font-semibold\">Cabeçalho 1</th>\n            <th class=\"border border-border p-3 text-left font-semibold\">Cabeçalho 2</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr class=\"border-b border-border\">\n            <td class=\"border border-border p-3\">Linha 1, Col 1</td>\n            <td class=\"border border-border p-3\">Linha 1, Col 2</td>\n          </tr>\n          <tr class=\"border-b border-border\">\n            <td class=\"border border-border p-3\">Linha 2, Col 1</td>\n            <td class=\"border border-border p-3\">Linha 2, Col 2</td>\n          </tr>\n        </tbody>\n      </table>\n      <p><br/></p>\n    `\n    insertHtmlAtSelection(tableHtml)\n  }\n\n  const addRow = (direction: 'above' | 'below') => {\n    if (!activeTableCell || !activeTableNode) return\n    const tr = activeTableCell.closest('tr')\n    if (!tr) return\n\n    const newTr = document.createElement('tr')\n    newTr.className = 'border-b border-border'\n    const cellCount = tr.children.length\n\n    for (let i = 0; i < cellCount; i++) {\n      const td = document.createElement('td')\n      td.className = 'border border-border p-3'\n      td.innerHTML = '<br/>'\n      newTr.appendChild(td)\n    }\n\n    if (direction === 'above') {\n      tr.parentNode?.insertBefore(newTr, tr)\n    } else {\n      tr.parentNode?.insertBefore(newTr, tr.nextSibling)\n    }\n    onChange(editorRef.current!.innerHTML)\n  }\n\n  const addColumn = (direction: 'left' | 'right') => {\n    if (!activeTableCell || !activeTableNode) return\n    const tr = activeTableCell.closest('tr')\n    if (!tr) return\n\n    const cellIndex = Array.from(tr.children).indexOf(activeTableCell)\n    const rows = activeTableNode.querySelectorAll('tr')\n\n    rows.forEach((row) => {\n      const isHeader = row.parentNode?.nodeName.toLowerCase() === 'thead'\n      const cell = document.createElement(isHeader ? 'th' : 'td')\n      cell.className = isHeader\n        ? 'border border-border p-3 text-left font-semibold'\n        : 'border border-border p-3'\n      cell.innerHTML = '<br/>'\n\n      const targetCell = row.children[cellIndex]\n      if (targetCell) {\n        if (direction === 'left') {\n          row.insertBefore(cell, targetCell)\n        } else {\n          row.insertBefore(cell, targetCell.nextSibling)\n        }\n      }\n    })\n    onChange(editorRef.current!.innerHTML)\n  }\n\n  const deleteRow = () => {\n    if (!activeTableCell || !activeTableNode) return\n    const tr = activeTableCell.closest('tr')\n    if (!tr) return\n\n    if (activeTableNode.querySelectorAll('tr').length <= 2) {\n      // Avoid deleting the last row of the body\n      return deleteTable()\n    }\n\n    tr.remove()\n    setActiveTableCell(null)\n    onChange(editorRef.current!.innerHTML)\n  }\n\n  const deleteColumn = () => {\n    if (!activeTableCell || !activeTableNode) return\n    const tr = activeTableCell.closest('tr')\n    if (!tr) return\n\n    if (tr.children.length <= 1) {\n      return deleteTable()\n    }\n\n    const cellIndex = Array.from(tr.children).indexOf(activeTableCell)\n    const rows = activeTableNode.querySelectorAll('tr')\n\n    rows.forEach((row) => {\n      const targetCell = row.children[cellIndex]\n      if (targetCell) {\n        targetCell.remove()\n      }\n    })\n    setActiveTableCell(null)\n    onChange(editorRef.current!.innerHTML)\n  }\n\n  const deleteTable = () => {\n    if (!activeTableNode) return\n    activeTableNode.remove()\n    setActiveTableNode(null)\n    setActiveTableCell(null)\n    onChange(editorRef.current!.innerHTML)\n  }\n\n  const insertNewGuide = () => {\n    const pageBreakHtml = `\n      <div contenteditable=\"false\" style=\"margin: 80px -40px; height: 32px; background: #f8fafc; border-top: 1px dashed #cbd5e1; border-bottom: 1px dashed #cbd5e1; display: flex; align-items: center; justify-content: center; user-select: none;\">\n         <span style=\"font-size: 11px; text-transform: uppercase; letter-spacing: 0.1em; color: #94a3b8; font-weight: 600;\">Nova Seção</span>\n      </div>\n      <h2>Nova Guia</h2>\n      <p><br/></p>\n    `\n    insertHtmlAtSelection(pageBreakHtml)\n\n    setTimeout(() => {\n      if (editorRef.current) {\n        const h2s = editorRef.current.querySelectorAll('h2')\n        const lastH2 = h2s[h2s.length - 1]\n        if (lastH2) {\n          const selection = window.getSelection()\n          const range = document.createRange()\n          range.selectNodeContents(lastH2)\n          selection?.removeAllRanges()\n          selection?.addRange(range)\n          lastH2.scrollIntoView({ behavior: 'smooth', block: 'center' })\n        }\n      }\n    }, 50)\n  }\n\n  const handleCanvasChange = (updatedFunnel: Funnel) => {\n    setFunnels(\n      funnels.map((f) => (f.id === updatedFunnel.id ? updatedFunnel : f)),\n    )\n\n    if (editorRef.current) {\n      let hasChanges = false\n      const blocks = editorRef.current.querySelectorAll(\n        `.canvas-preview-block[data-canvas-id=\"${updatedFunnel.id}\"]`,\n      )\n      blocks.forEach((block) => {\n        block.setAttribute(\n          'style',\n          'margin: 32px 0; user-select: none; display: flex; flex-direction: column; align-items: flex-start;',\n        )\n        block.innerHTML = getCanvasPreviewInnerHtml(updatedFunnel)\n        hasChanges = true\n      })\n      if (hasChanges) {\n        onChange(editorRef.current.innerHTML)\n      }\n    }\n  }\n\n  const startResizing = useCallback((e: React.MouseEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    isResizingRef.current = true\n    setIsResizing(true)\n    document.body.style.cursor = 'col-resize'\n    document.body.style.userSelect = 'none'\n\n    const handleMouseMove = (ev: MouseEvent) => {\n      if (!isResizingRef.current || !containerRef.current) return\n      const containerRect = containerRef.current.getBoundingClientRect()\n      const newWidth = containerRect.right - ev.clientX\n      const minW = 450\n      const maxW = Math.min(window.innerWidth * 0.8, containerRect.width - 300)\n\n      if (newWidth >= minW && newWidth <= maxW) {\n        setPanelWidth(newWidth)\n      } else if (newWidth < minW) {\n        setPanelWidth(minW)\n      } else if (newWidth > maxW) {\n        setPanelWidth(maxW)\n      }\n    }\n\n    const handleMouseUp = () => {\n      isResizingRef.current = false\n      setIsResizing(false)\n      document.body.style.cursor = ''\n      document.body.style.userSelect = ''\n      document.removeEventListener('mousemove', handleMouseMove)\n      document.removeEventListener('mouseup', handleMouseUp)\n    }\n\n    document.addEventListener('mousemove', handleMouseMove)\n    document.addEventListener('mouseup', handleMouseUp)\n  }, [])\n\n  const activeCanvas = funnels.find((f) => f.id === editingCanvasId)\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"flex w-full h-full overflow-hidden bg-transparent relative\"\n    >\n      {/* GUIAS DO DOCUMENTO (OUTLINE) */}\n      <div\n        className={cn(\n          'hidden xl:flex shrink-0 bg-transparent flex-col transition-all duration-200 ease-in-out border-r border-slate-200/50',\n          isOutlineOpen ? 'w-64' : 'w-[56px] items-center',\n        )}\n      >\n        <div\n          className={cn(\n            'flex flex-col w-full transition-all duration-200 ease-in-out',\n            isOutlineOpen ? 'py-5 px-6 gap-4' : 'py-3 px-0 items-center gap-3',\n          )}\n        >\n          {isOutlineOpen ? (\n            <>\n              <div className=\"flex items-center w-full justify-between\">\n                <h3 className=\"text-sm font-semibold text-foreground flex items-center gap-2 whitespace-nowrap overflow-hidden\">\n                  <List size={16} className=\"text-primary shrink-0\" /> Guias no\n                  documento\n                </h3>\n                <button\n                  onClick={() => setIsOutlineOpen(false)}\n                  className=\"h-8 w-8 flex items-center justify-center text-muted-foreground shrink-0 rounded-lg hover:bg-slate-100 cursor-pointer outline-none transition-colors\"\n                  title=\"Minimizar Guias\"\n                >\n                  <PanelLeftClose size={16} />\n                </button>\n              </div>\n              <div className=\"flex w-full\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"h-8 shadow-sm flex-1 font-semibold text-xs border-dashed text-muted-foreground hover:text-foreground hover:border-solid hover:border-primary/50 hover:bg-primary/5\"\n                  onClick={insertNewGuide}\n                  title=\"Adicionar novo título\"\n                >\n                  <Plus size={14} className=\"mr-1.5\" /> Adicionar Guia\n                </Button>\n              </div>\n            </>\n          ) : (\n            <>\n              <button\n                onClick={() => setIsOutlineOpen(true)}\n                className=\"h-8 w-8 flex items-center justify-center text-muted-foreground shrink-0 rounded-lg hover:bg-slate-100 cursor-pointer outline-none transition-colors\"\n                title=\"Expandir Guias\"\n              >\n                <PanelLeft size={20} />\n              </button>\n              <Button\n                size=\"icon\"\n                variant=\"outline\"\n                className=\"h-8 w-8 shrink-0 rounded-lg border-dashed text-muted-foreground hover:text-foreground hover:border-solid hover:border-primary/50 hover:bg-primary/5\"\n                onClick={insertNewGuide}\n                title=\"Adicionar Guia\"\n              >\n                <Plus size={16} />\n              </Button>\n              <button\n                onClick={() => setIsOutlineOpen(true)}\n                className=\"h-8 w-8 flex items-center justify-center text-primary/50 shrink-0 hover:bg-slate-100 rounded-lg cursor-pointer outline-none transition-colors\"\n                title=\"Ver Guias\"\n              >\n                <List size={18} />\n              </button>\n            </>\n          )}\n        </div>\n\n        {isOutlineOpen && (\n          <div className=\"flex-1 overflow-y-auto space-y-1 p-6 pt-0 pr-4 no-scrollbar animate-fade-in w-full\">\n            {headers.length === 0 ? (\n              <p className=\"text-xs text-muted-foreground italic\">\n                Adicione títulos (H1, H2, etc.) para criar o sumário do\n                documento.\n              </p>\n            ) : (\n              headers.map((header) => (\n                <button\n                  key={header.id}\n                  onClick={() => {\n                    const el = document.getElementById(header.id)\n                    if (el)\n                      el.scrollIntoView({ behavior: 'smooth', block: 'center' })\n                  }}\n                  style={{ paddingLeft: `${(header.level - 1) * 12}px` }}\n                  className={cn(\n                    'w-full text-left text-sm py-1.5 px-2 rounded-md hover:bg-primary/10 transition-colors line-clamp-2',\n                    header.level === 1\n                      ? 'font-semibold text-foreground mt-2'\n                      : 'text-muted-foreground',\n                  )}\n                >\n                  {header.text}\n                </button>\n              ))\n            )}\n          </div>\n        )}\n      </div>\n\n      <div\n        className={cn(\n          'flex flex-col h-full overflow-y-auto ease-in-out flex-1 min-w-0 px-4 sm:px-6 lg:px-8',\n          !isResizing && 'transition-all duration-300',\n        )}\n      >\n        <div\n          className={cn(\n            'flex flex-col mx-auto w-full bg-white shadow-sm border border-slate-200/60 rounded-xl relative my-4 sm:my-6 lg:my-8',\n            !isResizing && 'transition-all duration-300',\n            'max-w-[1000px] min-h-[max-content]',\n          )}\n        >\n          <div className=\"flex flex-col gap-4 border-b border-slate-100 sticky top-0 bg-white/95 backdrop-blur z-30 shrink-0 p-6 lg:px-10 lg:pt-10 lg:pb-4 rounded-t-xl shadow-sm\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n              <Input\n                value={doc.title}\n                onChange={(e) => onTitleChange(e.target.value)}\n                className=\"text-3xl font-bold border-none outline-none focus-visible:ring-0 px-0 h-auto shadow-none bg-transparent flex-1\"\n                placeholder=\"Título do Documento\"\n              />\n              <div className=\"flex flex-col sm:flex-row items-end sm:items-center gap-2 shrink-0\">\n                {doc.funnelId && doc.nodeId && (\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() =>\n                      navigate(`/canvas/${doc.funnelId}?nodeId=${doc.nodeId}`)\n                    }\n                    className=\"text-purple-600 border-purple-200 bg-purple-50 hover:bg-purple-100 shrink-0 h-9\"\n                  >\n                    <Network size={14} className=\"mr-1.5\" /> Ver no Canvas\n                  </Button>\n                )}\n                <Select\n                  value={doc.projectId || 'none'}\n                  onValueChange={(val) =>\n                    onProjectChange(val === 'none' ? null : val)\n                  }\n                >\n                  <SelectTrigger className=\"w-[180px] h-9 bg-muted/30 border-slate-200\">\n                    <SelectValue placeholder=\"Project\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"none\">Nenhum Projeto</SelectItem>\n                    {projects.map((p) => (\n                      <SelectItem key={p.id} value={p.id}>\n                        {p.name}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {/* TOOLBAR FIXADA NO TOPO */}\n            <div className=\"flex items-center gap-1 shrink-0 flex-wrap mt-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('formatBlock', 'H1')}\n                title=\"Título 1\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Heading1 size={16} />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('formatBlock', 'H2')}\n                title=\"Título 2\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Heading2 size={16} />\n              </Button>\n              <Separator orientation=\"vertical\" className=\"h-4 mx-1\" />\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('bold')}\n                title=\"Negrito\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Bold size={16} />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('italic')}\n                title=\"Itálico\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Italic size={16} />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('underline')}\n                title=\"Sublinhado\"\n                className=\"rounded-lg h-8 w-8 text-slate-700 font-serif font-bold underline hover:bg-slate-100\"\n              >\n                U\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('strikeThrough')}\n                title=\"Tachado\"\n                className=\"rounded-lg h-8 w-8 text-slate-700 font-serif font-bold line-through hover:bg-slate-100\"\n              >\n                S\n              </Button>\n\n              <Separator orientation=\"vertical\" className=\"h-4 mx-1\" />\n\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('insertUnorderedList')}\n                title=\"Lista\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <List size={16} />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('insertOrderedList')}\n                title=\"Lista Numerada\"\n                className=\"rounded-lg h-8 w-8 font-mono text-sm font-bold hover:bg-slate-100\"\n              >\n                1.\n              </Button>\n\n              <Separator orientation=\"vertical\" className=\"h-4 mx-1\" />\n\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('justifyLeft')}\n                title=\"Alinhar à Esquerda\"\n                className=\"rounded-lg h-8 w-8 flex flex-col items-start gap-0.5 justify-center py-1.5 hover:bg-slate-100\"\n              >\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-3 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('justifyCenter')}\n                title=\"Centralizar\"\n                className=\"rounded-lg h-8 w-8 flex flex-col items-center gap-0.5 justify-center py-1.5 hover:bg-slate-100\"\n              >\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-3 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('justifyRight')}\n                title=\"Alinhar à Direita\"\n                className=\"rounded-lg h-8 w-8 flex flex-col items-end gap-0.5 justify-center py-1.5 hover:bg-slate-100\"\n              >\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-3 bg-slate-700 rounded-full\" />\n                <div className=\"h-0.5 w-4 bg-slate-700 rounded-full\" />\n              </Button>\n\n              <Separator orientation=\"vertical\" className=\"h-4 mx-1\" />\n\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('formatBlock', 'BLOCKQUOTE')}\n                title=\"Citação\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Quote size={16} />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={() => exec('insertHorizontalRule')}\n                title=\"Divisor\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <SeparatorHorizontal size={16} />\n              </Button>\n\n              <Separator orientation=\"vertical\" className=\"h-4 mx-1\" />\n\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onMouseDown={handleToolbarMouseDown}\n                onClick={insertTable}\n                title=\"Tabela\"\n                className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n              >\n                <Table size={16} />\n              </Button>\n\n              <Dialog open={imageModalOpen} onOpenChange={setImageModalOpen}>\n                <DialogTrigger asChild>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={() => saveSelection()}\n                    title=\"Adicionar Imagem\"\n                    className=\"rounded-lg h-8 w-8 hover:bg-slate-100\"\n                  >\n                    <ImageIcon size={16} />\n                  </Button>\n                </DialogTrigger>\n                <DialogContent>\n                  <DialogHeader>\n                    <DialogTitle>Adicionar Imagem</DialogTitle>\n                    <DialogDescription className=\"sr-only\">\n                      Insira a URL da imagem que deseja adicionar ao documento.\n                    </DialogDescription>\n                  </DialogHeader>\n                  <form onSubmit={insertImage} className=\"space-y-4 pt-4\">\n                    <Input\n                      placeholder=\"URL da Imagem (ex: https://...)\"\n                      value={imageUrl}\n                      onChange={(e) => setImageUrl(e.target.value)}\n                      autoFocus\n                    />\n                    <Button type=\"submit\" className=\"w-full\">\n                      Inserir Imagem\n                    </Button>\n                  </form>\n                </DialogContent>\n              </Dialog>\n\n              <Dialog open={canvasModalOpen} onOpenChange={setCanvasModalOpen}>\n                <DialogTrigger asChild>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onMouseDown={() => saveSelection()}\n                    className=\"ml-2 flex items-center bg-primary/10 hover:bg-primary/20 text-primary transition-colors shrink-0 rounded-xl font-semibold px-4 h-8\"\n                    title=\"Importar Canvas\"\n                  >\n                    <Network size={14} className=\"mr-2\" /> Importar Canvas\n                  </Button>\n                </DialogTrigger>\n\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"flex items-center text-muted-foreground hover:text-foreground transition-colors shrink-0 rounded-xl px-3 h-8\"\n                  title=\"Exportar como texto\"\n                  onClick={() => {\n                    const text = editorRef.current?.innerText || ''\n                    const blob = new Blob([`# ${doc.title}\\n\\n${text}`], {\n                      type: 'text/plain',\n                    })\n                    const url = URL.createObjectURL(blob)\n                    const a = document.createElement('a')\n                    a.href = url\n                    a.download = `${doc.title.replace(/\\s+/g, '_')}.txt`\n                    a.click()\n                    URL.revokeObjectURL(url)\n                  }}\n                >\n                  <Download size={14} className=\"mr-1.5\" /> Exportar\n                </Button>\n                <DialogContent className=\"max-w-2xl\">\n                  <DialogHeader>\n                    <DialogTitle>Selecionar Canvas</DialogTitle>\n                    <DialogDescription className=\"sr-only\">\n                      Selecione um funil/canvas da lista para importar sua\n                      visualização.\n                    </DialogDescription>\n                  </DialogHeader>\n                  <div className=\"grid grid-cols-2 gap-4 py-4 max-h-[60vh] overflow-y-auto px-1\">\n                    {funnels.map((f) => (\n                      <div\n                        key={f.id}\n                        onClick={() => setSelectedCanvasId(f.id)}\n                        className={cn(\n                          'border rounded-lg p-4 cursor-pointer transition-all flex flex-col items-center justify-center text-center gap-2',\n                          selectedCanvasId === f.id\n                            ? 'border-primary ring-1 ring-primary bg-primary/5'\n                            : 'hover:border-primary/50 bg-card',\n                        )}\n                      >\n                        <div className=\"w-10 h-10 rounded-full bg-muted flex items-center justify-center mb-1\">\n                          <Network\n                            size={20}\n                            className={\n                              selectedCanvasId === f.id\n                                ? 'text-primary'\n                                : 'text-muted-foreground'\n                            }\n                          />\n                        </div>\n                        <div>\n                          <h4 className=\"font-medium text-sm\">{f.name}</h4>\n                          <p className=\"text-xs text-muted-foreground\">\n                            {f.nodes.length} blocos mapeados\n                          </p>\n                        </div>\n                      </div>\n                    ))}\n                    {funnels.length === 0 && (\n                      <div className=\"col-span-2 text-center py-8 text-muted-foreground text-sm\">\n                        Nenhum canvas disponível para importação.\n                      </div>\n                    )}\n                  </div>\n                  <Button\n                    onClick={insertCanvas}\n                    disabled={!selectedCanvasId}\n                    className=\"w-full\"\n                  >\n                    Importar Visualização\n                  </Button>\n                </DialogContent>\n              </Dialog>\n\n              {activeTableNode && (\n                <div className=\"flex items-center gap-1 animate-in fade-in zoom-in-95 duration-200 ml-4 py-1 px-2 bg-primary/10 border border-primary/20 rounded-lg shrink-0\">\n                  <span className=\"text-xs font-semibold text-primary mr-1 px-1\">\n                    Tabela\n                  </span>\n                  <Separator\n                    orientation=\"vertical\"\n                    className=\"h-4 mx-1 bg-primary/20\"\n                  />\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={() => addRow('above')}\n                    className=\"h-7 w-7 text-primary hover:bg-primary/20 rounded-md\"\n                    title=\"Adicionar Linha Acima\"\n                  >\n                    <ArrowUpFromLine size={14} />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={() => addRow('below')}\n                    className=\"h-7 w-7 text-primary hover:bg-primary/20 rounded-md\"\n                    title=\"Adicionar Linha Abaixo\"\n                  >\n                    <ArrowDownFromLine size={14} />\n                  </Button>\n                  <Separator\n                    orientation=\"vertical\"\n                    className=\"h-4 mx-1 bg-primary/20\"\n                  />\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={() => addColumn('left')}\n                    className=\"h-7 w-7 text-primary hover:bg-primary/20 rounded-md\"\n                    title=\"Adicionar Coluna à Esquerda\"\n                  >\n                    <ArrowLeftFromLine size={14} />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={() => addColumn('right')}\n                    className=\"h-7 w-7 text-primary hover:bg-primary/20 rounded-md\"\n                    title=\"Adicionar Coluna à Direita\"\n                  >\n                    <ArrowRightFromLine size={14} />\n                  </Button>\n                  <Separator\n                    orientation=\"vertical\"\n                    className=\"h-4 mx-1 bg-primary/20\"\n                  />\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={deleteRow}\n                    className=\"h-7 w-7 text-destructive hover:bg-destructive/10 rounded-md\"\n                    title=\"Excluir Linha\"\n                  >\n                    <Trash2 size={13} className=\"opacity-80\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onMouseDown={handleToolbarMouseDown}\n                    onClick={deleteTable}\n                    className=\"h-7 w-7 text-destructive hover:bg-destructive/10 rounded-md\"\n                    title=\"Excluir Tabela Inteira\"\n                  >\n                    <Trash2 size={14} />\n                  </Button>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"mx-6 lg:mx-10 mb-12 mt-8 flex-1 flex flex-col relative w-full\">\n            <div\n              ref={editorRef}\n              contentEditable\n              className=\"flex-1 outline-none prose prose-slate max-w-none focus:outline-none min-h-[500px] pb-32 prose-headings:font-bold prose-h1:text-4xl prose-h2:text-2xl prose-p:text-base prose-p:leading-relaxed\"\n              onBlur={(e) => {\n                saveSelection()\n                onChange(e.currentTarget.innerHTML)\n                extractHeaders()\n              }}\n              onKeyUp={() => {\n                saveSelection()\n                extractHeaders()\n              }}\n              onMouseUp={saveSelection}\n              onInput={(e) => {\n                onChange(e.currentTarget.innerHTML)\n              }}\n              onClick={handleEditorClick}\n              style={{ caretColor: 'hsl(var(--primary))' }}\n            />\n          </div>\n        </div>\n      </div>\n\n      {editingCanvasId && activeCanvas && (\n        <div\n          style={{ width: `${panelWidth}px` }}\n          className={cn(\n            'h-full flex flex-col bg-background shadow-[-10px_0_40px_rgba(0,0,0,0.08)] z-20 shrink-0 border-l border-border relative',\n            !isResizing && 'transition-all duration-300',\n            'animate-in slide-in-from-right',\n          )}\n        >\n          <div\n            className=\"absolute -left-3 top-0 bottom-0 w-6 cursor-col-resize z-50 group/resizer flex items-center justify-center\"\n            onMouseDown={startResizing}\n          >\n            <div className=\"absolute w-1.5 h-full left-1/2 -translate-x-1/2 opacity-0 group-hover/resizer:opacity-100 bg-primary/20 transition-opacity\" />\n            <div className=\"w-[20px] h-[48px] bg-slate-900 rounded-full flex items-center justify-center text-white shadow-md transition-transform group-hover/resizer:scale-105 z-10\">\n              <GripVertical size={14} className=\"opacity-80\" />\n            </div>\n          </div>\n\n          <div className=\"h-16 border-b flex items-center justify-between px-6 bg-card shrink-0 shadow-sm z-10 relative\">\n            <div className=\"flex items-center gap-3 text-primary\">\n              <Network size={20} />\n              <h3 className=\"font-bold text-base text-foreground\">\n                {activeCanvas.name}\n              </h3>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={() => setEditingCanvasId(null)}\n              className=\"text-muted-foreground hover:text-foreground hover:bg-muted rounded-full\"\n            >\n              <X size={18} />\n            </Button>\n          </div>\n          <div className=\"flex-1 relative flex overflow-hidden\">\n            <CanvasBoard\n              funnel={activeCanvas}\n              onChange={handleCanvasChange}\n              hideHeader\n              onBack={() => setEditingCanvasId(null)}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import { useState, useMemo } from 'react'\nimport useDocumentStore from '@/stores/useDocumentStore'\nimport useFolderStore from '@/stores/useFolderStore'\nimport RichTextEditor from '@/components/editor/RichTextEditor'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogDescription,\n} from '@/components/ui/dialog'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport {\n  FileText,\n  Plus,\n  Folder as FolderIcon,\n  Search,\n  Trash2,\n  ChevronLeft,\n  ChevronUp,\n  ChevronDown,\n} from 'lucide-react'\nimport { useToast } from '@/hooks/use-toast'\nimport { generateId } from '@/lib/generateId'\nimport { ConfirmDialog } from '@/components/ConfirmDialog'\nimport {\n  ViewToggle,\n  FolderBreadcrumbs,\n  CreateFolderDialog,\n  MoveDialog,\n} from '@/components/folders/FolderComponents'\n\nexport default function Documents() {\n  const [docs, setDocs] = useDocumentStore()\n  const [allFolders, setFolders] = useFolderStore()\n  const [activeId, setActiveId] = useState<string | null>(null)\n  const [currentFolderId, setCurrentFolderId] = useState<string | null>(null)\n  const [view, setView] = useState<'grid' | 'list'>('grid')\n  const [search, setSearch] = useState('')\n  const [docToDelete, setDocToDelete] = useState<string | null>(null)\n  const [isCreateOpen, setIsCreateOpen] = useState(false)\n  const [newDocTitle, setNewDocTitle] = useState('')\n  const [sortConfig, setSortConfig] = useState<{\n    key: 'name' | 'date' | 'type'\n    direction: 'asc' | 'desc'\n  }>({ key: 'type', direction: 'asc' })\n\n  const { toast } = useToast()\n\n  const activeDoc = docs.find((d) => d.id === activeId)\n  const moduleFolders = allFolders.filter((f) => f.module === 'project')\n\n  const currentFolders = moduleFolders.filter((f) => {\n    if (search) return f.name.toLowerCase().includes(search.toLowerCase())\n    return f.parentId === currentFolderId\n  })\n\n  const filteredDocs = docs.filter((d) => {\n    if (search) return d.title.toLowerCase().includes(search.toLowerCase())\n    return (d.folderId || null) === currentFolderId\n  })\n\n  const combinedItems = useMemo(() => {\n    const items: Array<{\n      id: string\n      type: 'folder' | 'doc'\n      name: string\n      date: string\n      raw: any\n    }> = []\n    currentFolders.forEach((f) =>\n      items.push({\n        id: f.id,\n        type: 'folder',\n        name: f.name,\n        date: f.createdAt,\n        raw: f,\n      }),\n    )\n    filteredDocs.forEach((d) =>\n      items.push({\n        id: d.id,\n        type: 'doc',\n        name: d.title,\n        date: d.updatedAt,\n        raw: d,\n      }),\n    )\n    return items\n  }, [currentFolders, filteredDocs])\n\n  const sortedItems = useMemo(() => {\n    return [...combinedItems].sort((a, b) => {\n      let aVal: any = a[sortConfig.key]\n      let bVal: any = b[sortConfig.key]\n\n      if (sortConfig.key === 'date') {\n        aVal = new Date(aVal).getTime()\n        bVal = new Date(bVal).getTime()\n      } else if (sortConfig.key === 'name') {\n        aVal = aVal.toLowerCase()\n        bVal = bVal.toLowerCase()\n      }\n\n      if (aVal < bVal) return sortConfig.direction === 'asc' ? -1 : 1\n      if (aVal > bVal) return sortConfig.direction === 'asc' ? 1 : -1\n\n      if (a.type !== b.type) return a.type === 'folder' ? -1 : 1\n      return 0\n    })\n  }, [combinedItems, sortConfig])\n\n  const handleSort = (key: 'name' | 'date' | 'type') => {\n    setSortConfig((prev) => ({\n      key,\n      direction: prev.key === key && prev.direction === 'asc' ? 'desc' : 'asc',\n    }))\n  }\n\n  const renderSortIcon = (key: 'name' | 'date' | 'type') => {\n    if (sortConfig.key !== key)\n      return (\n        <ChevronDown\n          size={14}\n          className=\"opacity-0 group-hover:opacity-50 transition-opacity ml-1\"\n        />\n      )\n    return sortConfig.direction === 'asc' ? (\n      <ChevronUp size={14} className=\"text-primary ml-1\" />\n    ) : (\n      <ChevronDown size={14} className=\"text-primary ml-1\" />\n    )\n  }\n\n  const handleCreateFolder = (name: string) => {\n    setFolders([\n      ...allFolders,\n      {\n        id: generateId('f'),\n        module: 'project',\n        name,\n        parentId: currentFolderId,\n        createdAt: new Date().toISOString(),\n      },\n    ])\n    toast({ title: 'Pasta criada com sucesso!' })\n  }\n\n  const handleCreateDoc = (e: React.FormEvent) => {\n    e.preventDefault()\n    const newDoc = {\n      id: generateId('d'),\n      projectId: null,\n      title: newDocTitle.trim() || 'Novo Documento',\n      content: '',\n      updatedAt: new Date().toISOString(),\n      folderId: currentFolderId,\n    }\n    setDocs([...docs, newDoc])\n    setNewDocTitle('')\n    setIsCreateOpen(false)\n    toast({ title: 'Documento criado com sucesso!' })\n    setActiveId(newDoc.id)\n  }\n\n  const updateDocFolder = (id: string, folderId: string | null) => {\n    setDocs(docs.map((d) => (d.id === id ? { ...d, folderId } : d)))\n    toast({ title: 'Documento movido com sucesso!' })\n  }\n\n  const handleDeleteDoc = () => {\n    if (!docToDelete) return\n    setDocs(docs.filter((d) => d.id !== docToDelete))\n    setDocToDelete(null)\n    toast({ title: 'Documento excluído!' })\n  }\n\n  if (activeDoc) {\n    return (\n      <div className=\"flex flex-col h-full bg-[#f8fafc] overflow-hidden animate-fade-in w-full\">\n        <div className=\"flex items-center gap-4 px-6 py-3 border-b border-border bg-white shrink-0 shadow-sm z-30\">\n          <Button\n            variant=\"ghost\"\n            onClick={() => setActiveId(null)}\n            className=\"text-muted-foreground hover:text-foreground h-9 px-3 -ml-3 font-semibold\"\n          >\n            <ChevronLeft size={16} className=\"mr-1\" />\n            Voltar para Documentos\n          </Button>\n          <div className=\"h-4 w-[1px] bg-border mx-1\" />\n          <span className=\"text-sm font-medium text-foreground truncate\">\n            {activeDoc.title || 'Sem Título'}\n          </span>\n        </div>\n        <div className=\"flex-1 overflow-hidden w-full relative\">\n          <RichTextEditor\n            doc={activeDoc}\n            onTitleChange={(title) =>\n              setDocs(\n                docs.map((d) => (d.id === activeDoc.id ? { ...d, title } : d)),\n              )\n            }\n            onProjectChange={(projectId) =>\n              setDocs(\n                docs.map((d) =>\n                  d.id === activeDoc.id ? { ...d, projectId } : d,\n                ),\n              )\n            }\n            onChange={(content) =>\n              setDocs(\n                docs.map((d) =>\n                  d.id === activeDoc.id ? { ...d, content } : d,\n                ),\n              )\n            }\n          />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-6 md:p-8 max-w-[1600px] w-full mx-auto space-y-6 animate-fade-in\">\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white p-6 md:px-8 border-b border-border -mx-6 -mt-6 md:-mx-8 md:-mt-8 mb-8 min-h-[80px]\">\n        <div className=\"space-y-0.5\">\n          <h1 className=\"text-xl font-bold tracking-tight text-foreground\">\n            Documentos\n          </h1>\n          <FolderBreadcrumbs\n            currentFolderId={currentFolderId}\n            folders={moduleFolders}\n            onNavigate={setCurrentFolderId}\n            rootName=\"Workspace\"\n          />\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <ViewToggle view={view} onChange={setView} />\n          <CreateFolderDialog onConfirm={handleCreateFolder} />\n          <Dialog open={isCreateOpen} onOpenChange={setIsCreateOpen}>\n            <DialogTrigger asChild>\n              <Button>\n                <Plus size={16} className=\"mr-2\" /> Novo Documento\n              </Button>\n            </DialogTrigger>\n            <DialogContent>\n              <DialogHeader>\n                <DialogTitle>Criar Novo Documento</DialogTitle>\n                <DialogDescription className=\"sr-only\">\n                  Insira o nome do novo documento.\n                </DialogDescription>\n              </DialogHeader>\n              <form onSubmit={handleCreateDoc} className=\"space-y-4 pt-6\">\n                <Input\n                  placeholder=\"Título do Documento\"\n                  value={newDocTitle}\n                  onChange={(e) => setNewDocTitle(e.target.value)}\n                  autoFocus\n                />\n                <Button type=\"submit\" className=\"w-full\">\n                  Criar Documento\n                </Button>\n              </form>\n            </DialogContent>\n          </Dialog>\n        </div>\n      </div>\n\n      <div className=\"relative max-w-md shrink-0\">\n        <Search\n          className=\"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground\"\n          size={18}\n        />\n        <Input\n          placeholder=\"Buscar documentos...\"\n          value={search}\n          onChange={(e) => setSearch(e.target.value)}\n          className=\"pl-12 bg-card\"\n        />\n      </div>\n\n      {sortedItems.length === 0 ? (\n        <div className=\"py-20 text-center flex flex-col items-center bg-card rounded-2xl border border-dashed border-border shadow-sm max-w-2xl mx-auto\">\n          <div className=\"w-20 h-20 bg-secondary rounded-full flex items-center justify-center mb-4 text-primary/50\">\n            <FileText size={32} />\n          </div>\n          <h3 className=\"text-xl font-bold text-foreground\">Vazio</h3>\n          <p className=\"text-base text-muted-foreground mt-2 mb-6\">\n            Nenhum documento ou pasta encontrado neste local.\n          </p>\n          <Button onClick={() => setIsCreateOpen(true)}>\n            <Plus size={16} className=\"mr-2\" /> Criar Primeiro Documento\n          </Button>\n        </div>\n      ) : view === 'grid' ? (\n        <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 pb-12\">\n          {sortedItems.map((item) => {\n            if (item.type === 'folder') {\n              return (\n                <Card\n                  key={item.id}\n                  onClick={() => setCurrentFolderId(item.id)}\n                  className=\"hover:shadow-md hover:border-primary/40 transition-all cursor-pointer h-full group flex items-center p-6 gap-4\"\n                >\n                  <div className=\"w-12 h-12 rounded-xl bg-secondary flex items-center justify-center text-primary shrink-0 transition-transform group-hover:scale-105\">\n                    <FolderIcon size={24} className=\"fill-current opacity-20\" />\n                  </div>\n                  <span className=\"font-semibold text-lg group-hover:text-primary transition-colors line-clamp-1\">\n                    {item.name}\n                  </span>\n                </Card>\n              )\n            } else {\n              const doc = item.raw\n              return (\n                <Card\n                  key={item.id}\n                  onClick={() => setActiveId(item.id)}\n                  className=\"hover:shadow-md hover:border-primary/40 transition-all cursor-pointer h-full group flex flex-col relative overflow-hidden\"\n                >\n                  <CardHeader className=\"pb-4 flex-1 flex flex-col gap-4\">\n                    <div className=\"flex justify-between items-start\">\n                      <div className=\"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center text-primary shrink-0 transition-transform group-hover:scale-105\">\n                        <FileText size={24} />\n                      </div>\n                      <div\n                        onClick={(e) => {\n                          e.preventDefault()\n                          e.stopPropagation()\n                        }}\n                        className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\"\n                      >\n                        <MoveDialog\n                          folders={moduleFolders}\n                          currentFolderId={doc.folderId}\n                          onMove={(id) => updateDocFolder(item.id, id)}\n                        />\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-8 w-8 text-destructive hover:bg-destructive/10 rounded-full\"\n                          onClick={() => setDocToDelete(item.id)}\n                        >\n                          <Trash2 size={16} />\n                        </Button>\n                      </div>\n                    </div>\n                    <CardTitle className=\"text-xl group-hover:text-primary transition-colors line-clamp-2 leading-snug\">\n                      {item.name}\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"pt-0\">\n                    <p className=\"text-sm text-muted-foreground font-medium\">\n                      Modificado em{' '}\n                      {new Date(item.date).toLocaleDateString('pt-BR')}\n                    </p>\n                  </CardContent>\n                </Card>\n              )\n            }\n          })}\n        </div>\n      ) : (\n        <div className=\"bg-card border rounded-2xl overflow-hidden shadow-sm pb-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead\n                  onClick={() => handleSort('name')}\n                  className=\"cursor-pointer group hover:bg-muted/50 select-none w-1/2\"\n                >\n                  <div className=\"flex items-center\">\n                    Nome {renderSortIcon('name')}\n                  </div>\n                </TableHead>\n                <TableHead\n                  onClick={() => handleSort('type')}\n                  className=\"cursor-pointer group hover:bg-muted/50 select-none\"\n                >\n                  <div className=\"flex items-center\">\n                    Tipo {renderSortIcon('type')}\n                  </div>\n                </TableHead>\n                <TableHead\n                  onClick={() => handleSort('date')}\n                  className=\"cursor-pointer group hover:bg-muted/50 select-none\"\n                >\n                  <div className=\"flex items-center\">\n                    Última Modificação {renderSortIcon('date')}\n                  </div>\n                </TableHead>\n                <TableHead className=\"w-[100px] text-right\">Ações</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {sortedItems.map((item) => {\n                if (item.type === 'folder') {\n                  return (\n                    <TableRow\n                      key={item.id}\n                      onClick={() => setCurrentFolderId(item.id)}\n                      className=\"cursor-pointer group\"\n                    >\n                      <TableCell className=\"font-medium flex items-center gap-3 py-4 text-base\">\n                        <FolderIcon\n                          className=\"text-primary fill-primary/20 group-hover:text-primary transition-colors shrink-0\"\n                          size={20}\n                        />\n                        <span className=\"group-hover:text-primary transition-colors truncate\">\n                          {item.name}\n                        </span>\n                      </TableCell>\n                      <TableCell className=\"text-muted-foreground font-medium\">\n                        Pasta\n                      </TableCell>\n                      <TableCell className=\"text-muted-foreground font-medium\">\n                        {new Date(item.date).toLocaleDateString('pt-BR')}\n                      </TableCell>\n                      <TableCell></TableCell>\n                    </TableRow>\n                  )\n                } else {\n                  const doc = item.raw\n                  return (\n                    <TableRow\n                      key={item.id}\n                      onClick={() => setActiveId(item.id)}\n                      className=\"cursor-pointer text-base group\"\n                    >\n                      <TableCell className=\"font-medium py-4\">\n                        <div className=\"flex items-center gap-3\">\n                          <FileText\n                            className=\"text-primary shrink-0\"\n                            size={20}\n                          />\n                          <span className=\"group-hover:text-primary transition-colors truncate\">\n                            {item.name}\n                          </span>\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"text-muted-foreground font-medium\">\n                        Documento\n                      </TableCell>\n                      <TableCell className=\"text-muted-foreground font-medium\">\n                        {new Date(item.date).toLocaleDateString('pt-BR')}\n                      </TableCell>\n                      <TableCell className=\"text-right\">\n                        <div\n                          onClick={(e) => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                          }}\n                          className=\"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity\"\n                        >\n                          <MoveDialog\n                            folders={moduleFolders}\n                            currentFolderId={doc.folderId}\n                            onMove={(id) => updateDocFolder(item.id, id)}\n                          />\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"h-8 w-8 text-destructive hover:bg-destructive/10 rounded-full\"\n                            onClick={() => setDocToDelete(item.id)}\n                          >\n                            <Trash2 size={16} />\n                          </Button>\n                        </div>\n                      </TableCell>\n                    </TableRow>\n                  )\n                }\n              })}\n            </TableBody>\n          </Table>\n        </div>\n      )}\n\n      <ConfirmDialog\n        open={!!docToDelete}\n        onOpenChange={(open) => !open && setDocToDelete(null)}\n        title=\"Excluir Documento?\"\n        description=\"Esta ação é irreversível. O documento será excluído permanentemente.\"\n        confirmLabel=\"Excluir\"\n        variant=\"destructive\"\n        onConfirm={handleDeleteDoc}\n      />\n    </div>\n  )\n}\n"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11],"mappings":"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"}